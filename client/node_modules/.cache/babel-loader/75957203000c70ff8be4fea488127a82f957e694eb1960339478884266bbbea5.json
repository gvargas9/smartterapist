{"ast":null,"code":"var _jsxFileName = \"/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/components/BehaviorPresetManager.js\",\n  _s = $RefreshSig$();\n/**\n * Behavior Preset Manager Component\n * \n * This component allows therapists to manage behavior presets for a client.\n * It displays available behavior presets and allows the therapist to activate/deactivate them.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { therapistService } from '../services/therapistService';\nimport { CheckCircleIcon, XCircleIcon, PlusCircleIcon, InformationCircleIcon } from '@heroicons/react/24/solid';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BehaviorPresetManager = ({\n  clientId,\n  onUpdate\n}) => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [availablePresets, setAvailablePresets] = useState([]);\n  const [clientPresets, setClientPresets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showInfo, setShowInfo] = useState({});\n\n  // Fetch behavior presets\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch all available behavior presets\n        const presets = await therapistService.getBehaviorPresets();\n        setAvailablePresets(presets || []);\n\n        // Fetch client details with their active behavior presets\n        const clientDetails = await therapistService.getClientDetails(clientId);\n\n        // Extract client's behavior presets\n        const clientBehaviors = (clientDetails === null || clientDetails === void 0 ? void 0 : clientDetails.client_behaviors) || [];\n        setClientPresets(clientBehaviors);\n      } catch (error) {\n        console.error('Error fetching behavior presets:', error);\n        setError(t('behaviors.fetchError'));\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [clientId, t]);\n\n  // Check if a behavior is active for the client\n  const isBehaviorActive = behaviorId => {\n    return clientPresets.some(preset => preset.behavior_id === behaviorId && preset.active);\n  };\n\n  // Toggle behavior preset for client\n  const toggleBehavior = async behaviorId => {\n    try {\n      setLoading(true);\n      const isActive = isBehaviorActive(behaviorId);\n      if (isActive) {\n        // Deactivate the behavior\n        const clientBehavior = clientPresets.find(preset => preset.behavior_id === behaviorId);\n        if (clientBehavior) {\n          await therapistService.updateClientBehavior(clientId, behaviorId, false);\n        }\n      } else {\n        // Check if the behavior exists for the client but is inactive\n        const existingBehavior = clientPresets.find(preset => preset.behavior_id === behaviorId);\n        if (existingBehavior) {\n          // Activate the existing behavior\n          await therapistService.updateClientBehavior(clientId, behaviorId, true);\n        } else {\n          // Add the behavior to the client\n          await therapistService.addClientBehavior(clientId, behaviorId, true);\n        }\n      }\n\n      // Refresh client behaviors\n      const clientDetails = await therapistService.getClientDetails(clientId);\n      const updatedBehaviors = (clientDetails === null || clientDetails === void 0 ? void 0 : clientDetails.client_behaviors) || [];\n      setClientPresets(updatedBehaviors);\n\n      // Notify parent component of update\n      if (onUpdate) {\n        onUpdate();\n      }\n    } catch (error) {\n      console.error('Error toggling behavior:', error);\n      setError(isBehaviorActive(behaviorId) ? t('behaviors.deactivateError') : t('behaviors.activateError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Toggle behavior info display\n  const toggleInfo = behaviorId => {\n    setShowInfo(prev => ({\n      ...prev,\n      [behaviorId]: !prev[behaviorId]\n    }));\n  };\n  if (loading && availablePresets.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 p-4 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        className: \"mt-2 text-red-600 hover:text-red-800 underline\",\n        children: t('common.retry')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900\",\n        children: t('behaviors.manageBehaviors')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-500\",\n        children: t('behaviors.description')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: availablePresets.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: t('behaviors.noPresetsAvailable')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"divide-y divide-gray-200\",\n        children: availablePresets.map(preset => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-base font-medium text-gray-900 truncate\",\n                  children: preset.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleInfo(preset.id),\n                  className: \"ml-2 text-gray-400 hover:text-gray-600\",\n                  title: t('common.info'),\n                  children: /*#__PURE__*/_jsxDEV(InformationCircleIcon, {\n                    className: \"h-5 w-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 21\n              }, this), showInfo[preset.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 p-3 bg-gray-50 rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: preset.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 25\n                }, this), preset.prompt_template && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"text-xs font-medium text-gray-700\",\n                    children: t('behaviors.promptTemplate')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                    className: \"mt-1 text-xs text-gray-600 bg-gray-100 p-2 rounded overflow-x-auto\",\n                    children: preset.prompt_template\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4 flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleBehavior(preset.id),\n                disabled: loading,\n                className: `inline-flex items-center px-3 py-1.5 rounded-md text-sm font-medium ${isBehaviorActive(preset.id) ? 'bg-green-100 text-green-800 hover:bg-green-200' : 'bg-gray-100 text-gray-800 hover:bg-gray-200'}`,\n                children: isBehaviorActive(preset.id) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 27\n                  }, this), t('behaviors.active')]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 27\n                  }, this), t('behaviors.activate')]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this)\n        }, preset.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(BehaviorPresetManager, \"mHrX9NGkwFNzHAoB80hFo0R+PNI=\", false, function () {\n  return [useTranslation];\n});\n_c = BehaviorPresetManager;\nexport default BehaviorPresetManager;\nvar _c;\n$RefreshReg$(_c, \"BehaviorPresetManager\");","map":{"version":3,"names":["React","useState","useEffect","useTranslation","therapistService","CheckCircleIcon","XCircleIcon","PlusCircleIcon","InformationCircleIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","BehaviorPresetManager","clientId","onUpdate","_s","t","availablePresets","setAvailablePresets","clientPresets","setClientPresets","loading","setLoading","error","setError","showInfo","setShowInfo","fetchData","presets","getBehaviorPresets","clientDetails","getClientDetails","clientBehaviors","client_behaviors","console","isBehaviorActive","behaviorId","some","preset","behavior_id","active","toggleBehavior","isActive","clientBehavior","find","updateClientBehavior","existingBehavior","addClientBehavior","updatedBehaviors","toggleInfo","prev","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","map","name","id","title","description","prompt_template","disabled","_c","$RefreshReg$"],"sources":["/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/components/BehaviorPresetManager.js"],"sourcesContent":["/**\n * Behavior Preset Manager Component\n * \n * This component allows therapists to manage behavior presets for a client.\n * It displays available behavior presets and allows the therapist to activate/deactivate them.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { therapistService } from '../services/therapistService';\nimport { \n  CheckCircleIcon, \n  XCircleIcon, \n  PlusCircleIcon,\n  InformationCircleIcon\n} from '@heroicons/react/24/solid';\n\nconst BehaviorPresetManager = ({ clientId, onUpdate }) => {\n  const { t } = useTranslation();\n  const [availablePresets, setAvailablePresets] = useState([]);\n  const [clientPresets, setClientPresets] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showInfo, setShowInfo] = useState({});\n\n  // Fetch behavior presets\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        // Fetch all available behavior presets\n        const presets = await therapistService.getBehaviorPresets();\n        setAvailablePresets(presets || []);\n        \n        // Fetch client details with their active behavior presets\n        const clientDetails = await therapistService.getClientDetails(clientId);\n        \n        // Extract client's behavior presets\n        const clientBehaviors = clientDetails?.client_behaviors || [];\n        setClientPresets(clientBehaviors);\n      } catch (error) {\n        console.error('Error fetching behavior presets:', error);\n        setError(t('behaviors.fetchError'));\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, [clientId, t]);\n\n  // Check if a behavior is active for the client\n  const isBehaviorActive = (behaviorId) => {\n    return clientPresets.some(preset => \n      preset.behavior_id === behaviorId && preset.active\n    );\n  };\n\n  // Toggle behavior preset for client\n  const toggleBehavior = async (behaviorId) => {\n    try {\n      setLoading(true);\n      \n      const isActive = isBehaviorActive(behaviorId);\n      \n      if (isActive) {\n        // Deactivate the behavior\n        const clientBehavior = clientPresets.find(preset => \n          preset.behavior_id === behaviorId\n        );\n        \n        if (clientBehavior) {\n          await therapistService.updateClientBehavior(clientId, behaviorId, false);\n        }\n      } else {\n        // Check if the behavior exists for the client but is inactive\n        const existingBehavior = clientPresets.find(preset => \n          preset.behavior_id === behaviorId\n        );\n        \n        if (existingBehavior) {\n          // Activate the existing behavior\n          await therapistService.updateClientBehavior(clientId, behaviorId, true);\n        } else {\n          // Add the behavior to the client\n          await therapistService.addClientBehavior(clientId, behaviorId, true);\n        }\n      }\n      \n      // Refresh client behaviors\n      const clientDetails = await therapistService.getClientDetails(clientId);\n      const updatedBehaviors = clientDetails?.client_behaviors || [];\n      setClientPresets(updatedBehaviors);\n      \n      // Notify parent component of update\n      if (onUpdate) {\n        onUpdate();\n      }\n    } catch (error) {\n      console.error('Error toggling behavior:', error);\n      setError(isBehaviorActive(behaviorId) ? t('behaviors.deactivateError') : t('behaviors.activateError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Toggle behavior info display\n  const toggleInfo = (behaviorId) => {\n    setShowInfo(prev => ({\n      ...prev,\n      [behaviorId]: !prev[behaviorId]\n    }));\n  };\n\n  if (loading && availablePresets.length === 0) {\n    return (\n      <div className=\"flex justify-center items-center p-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 p-4 rounded-lg\">\n        <p className=\"text-red-600\">{error}</p>\n        <button \n          onClick={() => window.location.reload()} \n          className=\"mt-2 text-red-600 hover:text-red-800 underline\"\n        >\n          {t('common.retry')}\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">\n          {t('behaviors.manageBehaviors')}\n        </h3>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          {t('behaviors.description')}\n        </p>\n      </div>\n      \n      <div className=\"p-4\">\n        {availablePresets.length === 0 ? (\n          <p className=\"text-gray-500\">{t('behaviors.noPresetsAvailable')}</p>\n        ) : (\n          <ul className=\"divide-y divide-gray-200\">\n            {availablePresets.map(preset => (\n              <li key={preset.id} className=\"py-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center\">\n                      <h4 className=\"text-base font-medium text-gray-900 truncate\">\n                        {preset.name}\n                      </h4>\n                      <button \n                        onClick={() => toggleInfo(preset.id)}\n                        className=\"ml-2 text-gray-400 hover:text-gray-600\"\n                        title={t('common.info')}\n                      >\n                        <InformationCircleIcon className=\"h-5 w-5\" />\n                      </button>\n                    </div>\n                    \n                    {showInfo[preset.id] && (\n                      <div className=\"mt-2 p-3 bg-gray-50 rounded-md\">\n                        <p className=\"text-sm text-gray-600\">{preset.description}</p>\n                        {preset.prompt_template && (\n                          <div className=\"mt-2\">\n                            <h5 className=\"text-xs font-medium text-gray-700\">{t('behaviors.promptTemplate')}</h5>\n                            <pre className=\"mt-1 text-xs text-gray-600 bg-gray-100 p-2 rounded overflow-x-auto\">\n                              {preset.prompt_template}\n                            </pre>\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"ml-4 flex-shrink-0\">\n                    <button\n                      onClick={() => toggleBehavior(preset.id)}\n                      disabled={loading}\n                      className={`inline-flex items-center px-3 py-1.5 rounded-md text-sm font-medium ${\n                        isBehaviorActive(preset.id)\n                          ? 'bg-green-100 text-green-800 hover:bg-green-200'\n                          : 'bg-gray-100 text-gray-800 hover:bg-gray-200'\n                      }`}\n                    >\n                      {isBehaviorActive(preset.id) ? (\n                        <>\n                          <CheckCircleIcon className=\"h-4 w-4 mr-1\" />\n                          {t('behaviors.active')}\n                        </>\n                      ) : (\n                        <>\n                          <PlusCircleIcon className=\"h-4 w-4 mr-1\" />\n                          {t('behaviors.activate')}\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BehaviorPresetManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}