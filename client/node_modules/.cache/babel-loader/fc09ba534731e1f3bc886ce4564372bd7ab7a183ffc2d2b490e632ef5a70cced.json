{"ast":null,"code":"var _jsxFileName = \"/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/admin/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { adminService } from '../../services/adminService';\nimport { DEV_MODE, MOCK_DATA } from '../../utils/devMode';\nimport { Line, Bar } from 'react-chartjs-2';\nimport { UserGroupIcon, UserIcon, CurrencyDollarIcon, ChatBubbleLeftRightIcon, DocumentTextIcon, ArrowPathIcon, ArrowRightIcon, ChartBarIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  // Ensure user data is properly initialized even if profile_data is missing\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    activeClients: 0,\n    activeTherapists: 0,\n    totalRevenue: 0,\n    activeBehaviors: 0,\n    totalConversations: 0,\n    totalMessages: 0,\n    averageSentiment: 0\n  });\n  const [recentUsers, setRecentUsers] = useState([]);\n  const [recentBehaviors, setRecentBehaviors] = useState([]);\n  const [userGrowthData, setUserGrowthData] = useState(null);\n  const [userDistributionData, setUserDistributionData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const refreshDashboard = async () => {\n    setRefreshing(true);\n    try {\n      await fetchDashboardData();\n    } finally {\n      setRefreshing(false);\n    }\n  };\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      if (DEV_MODE) {\n        // Use mock data from devMode.js\n        const mockUsersData = [{\n          id: 'user-1',\n          name: 'John Smith',\n          email: 'john@example.com',\n          role: 'client',\n          created_at: '2025-05-01T10:30:00Z',\n          profile_data: {\n            name: 'John Smith'\n          }\n        }, {\n          id: 'user-2',\n          name: 'Sarah Johnson',\n          email: 'sarah@example.com',\n          role: 'client',\n          created_at: '2025-05-03T14:45:00Z',\n          profile_data: {\n            name: 'Sarah Johnson'\n          }\n        }, {\n          id: 'user-3',\n          name: 'Dr. Michael Brown',\n          email: 'michael@example.com',\n          role: 'therapist',\n          created_at: '2025-05-05T09:15:00Z',\n          profile_data: {\n            name: 'Dr. Michael Brown'\n          }\n        }, {\n          id: 'user-4',\n          name: 'Emily Davis',\n          email: 'emily@example.com',\n          role: 'client',\n          created_at: '2025-05-07T16:20:00Z',\n          profile_data: {\n            name: 'Emily Davis'\n          }\n        }, {\n          id: 'user-5',\n          name: 'Admin User',\n          email: 'admin@example.com',\n          role: 'admin',\n          created_at: '2025-05-10T11:00:00Z',\n          profile_data: {\n            name: 'Admin User'\n          }\n        }];\n\n        // Process user data for charts\n        const usersByRole = processUsersByRole(mockUsersData);\n        const userGrowth = processUserGrowthData(mockUsersData);\n\n        // Update state with mock data\n        setStats({\n          totalUsers: MOCK_DATA.stats.users.total,\n          activeClients: MOCK_DATA.stats.users.clients,\n          activeTherapists: MOCK_DATA.stats.users.therapists,\n          activeBehaviors: MOCK_DATA.stats.behaviors,\n          totalConversations: MOCK_DATA.stats.conversations,\n          totalMessages: MOCK_DATA.stats.messages,\n          totalRevenue: calculateEstimatedRevenue(MOCK_DATA.stats.users.clients),\n          averageSentiment: 0.72 // Mock sentiment score\n        });\n        setRecentUsers(mockUsersData);\n        setRecentBehaviors(MOCK_DATA.behaviors);\n        setUserGrowthData(userGrowth);\n        setUserDistributionData(usersByRole);\n      } else {\n        var _systemStats$users, _systemStats$users2, _systemStats$users3, _systemStats$users4;\n        // In production mode, fetch real data\n        // Fetch system stats\n        const systemStats = await adminService.getSystemStats();\n\n        // Fetch recent users\n        const usersData = await adminService.getUsers();\n        const recentUsersData = usersData.slice(0, 5);\n\n        // Fetch behavior presets\n        const behaviorsData = await adminService.getBehaviorPresets();\n        const recentBehaviorsData = behaviorsData.slice(0, 5);\n\n        // Process user data for charts\n        const usersByRole = processUsersByRole(usersData);\n        const userGrowth = processUserGrowthData(usersData);\n\n        // Update state with fetched data\n        setStats({\n          totalUsers: ((_systemStats$users = systemStats.users) === null || _systemStats$users === void 0 ? void 0 : _systemStats$users.total) || 0,\n          activeClients: ((_systemStats$users2 = systemStats.users) === null || _systemStats$users2 === void 0 ? void 0 : _systemStats$users2.clients) || 0,\n          activeTherapists: ((_systemStats$users3 = systemStats.users) === null || _systemStats$users3 === void 0 ? void 0 : _systemStats$users3.therapists) || 0,\n          activeBehaviors: systemStats.behaviors || 0,\n          totalConversations: systemStats.conversations || 0,\n          totalMessages: systemStats.messages || 0,\n          totalRevenue: calculateEstimatedRevenue(((_systemStats$users4 = systemStats.users) === null || _systemStats$users4 === void 0 ? void 0 : _systemStats$users4.clients) || 0),\n          averageSentiment: 0 // This would be calculated from message sentiments\n        });\n        setRecentUsers(recentUsersData);\n        setRecentBehaviors(recentBehaviorsData);\n        setUserGrowthData(userGrowth);\n        setUserDistributionData(usersByRole);\n      }\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const processUsersByRole = users => {\n    // Count users by role\n    const roleCounts = {\n      client: 0,\n      therapist: 0,\n      admin: 0\n    };\n    users.forEach(user => {\n      if (user.role in roleCounts) {\n        roleCounts[user.role]++;\n      }\n    });\n\n    // Create chart data\n    return {\n      labels: ['Clients', 'Therapists', 'Admins'],\n      datasets: [{\n        label: 'Users by Role',\n        data: [roleCounts.client, roleCounts.therapist, roleCounts.admin],\n        backgroundColor: ['rgba(54, 162, 235, 0.6)', 'rgba(153, 102, 255, 0.6)', 'rgba(255, 99, 132, 0.6)'],\n        borderColor: ['rgb(54, 162, 235)', 'rgb(153, 102, 255)', 'rgb(255, 99, 132)'],\n        borderWidth: 1\n      }]\n    };\n  };\n  const processUserGrowthData = users => {\n    // Get data for the last 30 days\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n\n    // Filter users created in the last 30 days\n    const recentUsers = users.filter(user => new Date(user.created_at) >= thirtyDaysAgo);\n\n    // Group by date\n    const dailyCounts = {};\n    recentUsers.forEach(user => {\n      const date = new Date(user.created_at).toLocaleDateString();\n      dailyCounts[date] = (dailyCounts[date] || 0) + 1;\n    });\n\n    // Sort dates\n    const sortedDates = Object.keys(dailyCounts).sort((a, b) => new Date(a) - new Date(b));\n\n    // Create chart data\n    return {\n      labels: sortedDates,\n      datasets: [{\n        label: 'New Users',\n        data: sortedDates.map(date => dailyCounts[date]),\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        fill: true,\n        tension: 0.4\n      }]\n    };\n  };\n  const calculateEstimatedRevenue = clientCount => {\n    // Simple revenue estimation based on client count\n    // This would be replaced with actual payment data in a real system\n    const averageSubscriptionPrice = 49.99;\n    return clientCount * averageSubscriptionPrice;\n  };\n  useEffect(() => {\n    // Always fetch dashboard data in development mode\n    fetchDashboardData();\n  }, []);\n  if (loading && !refreshing) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-lg p-6 mb-8 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold\",\n            children: \"Admin Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-purple-100 max-w-2xl\",\n            children: \"Monitor and manage the platform's performance, users, and behavior presets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: refreshDashboard,\n          disabled: refreshing,\n          className: \"flex items-center bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-white px-4 py-2 rounded-lg disabled:opacity-50\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n            className: `h-5 w-5 mr-2 ${refreshing ? 'animate-spin' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), \"Refresh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-blue-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(UserGroupIcon, {\n            className: \"h-6 w-6 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Total Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: stats.totalUsers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 flex justify-between text-xs text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Clients: \", stats.activeClients]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mx-2\",\n              children: \"|\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Therapists: \", stats.activeTherapists]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-purple-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n            className: \"h-6 w-6 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Behavior Presets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: stats.activeBehaviors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-green-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(CurrencyDollarIcon, {\n            className: \"h-6 w-6 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Est. Monthly Revenue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: [\"$\", stats.totalRevenue.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-indigo-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n            className: \"h-6 w-6 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Platform Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: stats.totalMessages\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [\"Across \", stats.totalConversations, \" conversations\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-8\",\n        children: [userGrowthData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"User Growth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Last 30 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-64\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: userGrowthData,\n              options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: {\n                    position: 'top'\n                  },\n                  tooltip: {\n                    callbacks: {\n                      label: function (context) {\n                        return `New users: ${context.parsed.y}`;\n                      }\n                    }\n                  }\n                },\n                scales: {\n                  y: {\n                    beginAtZero: true,\n                    ticks: {\n                      stepSize: 1\n                    },\n                    title: {\n                      display: true,\n                      text: 'New Users'\n                    }\n                  },\n                  x: {\n                    title: {\n                      display: true,\n                      text: 'Date'\n                    }\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), userDistributionData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"User Distribution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-64\",\n            children: /*#__PURE__*/_jsxDEV(Bar, {\n              data: userDistributionData,\n              options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: {\n                    display: false\n                  }\n                },\n                scales: {\n                  y: {\n                    beginAtZero: true,\n                    title: {\n                      display: true,\n                      text: 'Number of Users'\n                    }\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Recent Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/users\",\n              className: \"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\",\n              children: [\"View All \", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"h-4 w-4 ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [recentUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                    className: \"h-5 w-5 text-indigo-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: user.name || 'Unnamed User'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"capitalize\",\n                      children: user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"mx-1\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: new Date(user.created_at).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/admin/users/${user.id}`,\n                className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n                children: \"Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)), recentUsers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 bg-gray-50 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No users found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Recent Behavior Presets\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/behaviors\",\n              className: \"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\",\n              children: [\"View All \", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"h-4 w-4 ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [recentBehaviors.map(behavior => {\n              var _behavior$created_by;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: behavior.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: [\"Created by: \", ((_behavior$created_by = behavior.created_by) === null || _behavior$created_by === void 0 ? void 0 : _behavior$created_by.name) || 'Unknown']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/admin/behaviors/${behavior.id}`,\n                    className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mt-2 line-clamp-2\",\n                  children: behavior.prompt_template ? behavior.prompt_template.substring(0, 100) + '...' : behavior.description || 'No description available'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this)]\n              }, behavior.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 17\n              }, this);\n            }), recentBehaviors.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 bg-gray-50 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No behavior presets found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-800 mb-6\",\n        children: \"Quick Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/users/new\",\n          className: \"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n            className: \"h-5 w-5 text-blue-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900\",\n            children: \"Create New User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/behaviors/new\",\n          className: \"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n            className: \"h-5 w-5 text-purple-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900\",\n            children: \"Create Behavior Preset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/reports\",\n          className: \"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ChartBarIcon, {\n            className: \"h-5 w-5 text-green-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900\",\n            children: \"View Reports\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/behaviors\",\n        className: \"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900\",\n          children: \"Manage Behaviors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-secondary-600\",\n          children: \"Configure AI agent behavior presets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/users\",\n        className: \"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-secondary-600\",\n          children: \"Manage users and permissions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/subscriptions\",\n        className: \"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900\",\n          children: \"Subscriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-secondary-600\",\n          children: \"Manage subscription plans and billing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"C3rpdyaTA2Dqcgjhr4uKnUBw71A=\", false, function () {\n  return [useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth","adminService","DEV_MODE","MOCK_DATA","Line","Bar","UserGroupIcon","UserIcon","CurrencyDollarIcon","ChatBubbleLeftRightIcon","DocumentTextIcon","ArrowPathIcon","ArrowRightIcon","ChartBarIcon","jsxDEV","_jsxDEV","Dashboard","_s","user","stats","setStats","totalUsers","activeClients","activeTherapists","totalRevenue","activeBehaviors","totalConversations","totalMessages","averageSentiment","recentUsers","setRecentUsers","recentBehaviors","setRecentBehaviors","userGrowthData","setUserGrowthData","userDistributionData","setUserDistributionData","loading","setLoading","refreshing","setRefreshing","refreshDashboard","fetchDashboardData","mockUsersData","id","name","email","role","created_at","profile_data","usersByRole","processUsersByRole","userGrowth","processUserGrowthData","users","total","clients","therapists","behaviors","conversations","messages","calculateEstimatedRevenue","_systemStats$users","_systemStats$users2","_systemStats$users3","_systemStats$users4","systemStats","getSystemStats","usersData","getUsers","recentUsersData","slice","behaviorsData","getBehaviorPresets","recentBehaviorsData","error","console","roleCounts","client","therapist","admin","forEach","labels","datasets","label","data","backgroundColor","borderColor","borderWidth","thirtyDaysAgo","Date","setDate","getDate","filter","dailyCounts","date","toLocaleDateString","sortedDates","Object","keys","sort","a","b","map","fill","tension","clientCount","averageSubscriptionPrice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","toFixed","options","responsive","maintainAspectRatio","plugins","legend","position","tooltip","callbacks","context","parsed","y","scales","beginAtZero","ticks","stepSize","title","display","text","x","to","length","behavior","_behavior$created_by","created_by","prompt_template","substring","description","_c","$RefreshReg$"],"sources":["/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/admin/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { adminService } from '../../services/adminService';\nimport { DEV_MODE, MOCK_DATA } from '../../utils/devMode';\nimport { Line, Bar } from 'react-chartjs-2';\nimport {\n  UserGroupIcon,\n  UserIcon,\n  CurrencyDollarIcon,\n  ChatBubbleLeftRightIcon,\n  DocumentTextIcon,\n  ArrowPathIcon,\n  ArrowRightIcon,\n  ChartBarIcon\n} from '@heroicons/react/24/outline';\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  // Ensure user data is properly initialized even if profile_data is missing\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    activeClients: 0,\n    activeTherapists: 0,\n    totalRevenue: 0,\n    activeBehaviors: 0,\n    totalConversations: 0,\n    totalMessages: 0,\n    averageSentiment: 0\n  });\n  const [recentUsers, setRecentUsers] = useState([]);\n  const [recentBehaviors, setRecentBehaviors] = useState([]);\n  const [userGrowthData, setUserGrowthData] = useState(null);\n  const [userDistributionData, setUserDistributionData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n\n  const refreshDashboard = async () => {\n    setRefreshing(true);\n    try {\n      await fetchDashboardData();\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      if (DEV_MODE) {\n        // Use mock data from devMode.js\n        const mockUsersData = [\n          {\n            id: 'user-1',\n            name: 'John Smith',\n            email: 'john@example.com',\n            role: 'client',\n            created_at: '2025-05-01T10:30:00Z',\n            profile_data: { name: 'John Smith' }\n          },\n          {\n            id: 'user-2',\n            name: 'Sarah Johnson',\n            email: 'sarah@example.com',\n            role: 'client',\n            created_at: '2025-05-03T14:45:00Z',\n            profile_data: { name: 'Sarah Johnson' }\n          },\n          {\n            id: 'user-3',\n            name: 'Dr. Michael Brown',\n            email: 'michael@example.com',\n            role: 'therapist',\n            created_at: '2025-05-05T09:15:00Z',\n            profile_data: { name: 'Dr. Michael Brown' }\n          },\n          {\n            id: 'user-4',\n            name: 'Emily Davis',\n            email: 'emily@example.com',\n            role: 'client',\n            created_at: '2025-05-07T16:20:00Z',\n            profile_data: { name: 'Emily Davis' }\n          },\n          {\n            id: 'user-5',\n            name: 'Admin User',\n            email: 'admin@example.com',\n            role: 'admin',\n            created_at: '2025-05-10T11:00:00Z',\n            profile_data: { name: 'Admin User' }\n          }\n        ];\n        \n        // Process user data for charts\n        const usersByRole = processUsersByRole(mockUsersData);\n        const userGrowth = processUserGrowthData(mockUsersData);\n        \n        // Update state with mock data\n        setStats({\n          totalUsers: MOCK_DATA.stats.users.total,\n          activeClients: MOCK_DATA.stats.users.clients,\n          activeTherapists: MOCK_DATA.stats.users.therapists,\n          activeBehaviors: MOCK_DATA.stats.behaviors,\n          totalConversations: MOCK_DATA.stats.conversations,\n          totalMessages: MOCK_DATA.stats.messages,\n          totalRevenue: calculateEstimatedRevenue(MOCK_DATA.stats.users.clients),\n          averageSentiment: 0.72 // Mock sentiment score\n        });\n        \n        setRecentUsers(mockUsersData);\n        setRecentBehaviors(MOCK_DATA.behaviors);\n        setUserGrowthData(userGrowth);\n        setUserDistributionData(usersByRole);\n      } else {\n        // In production mode, fetch real data\n        // Fetch system stats\n        const systemStats = await adminService.getSystemStats();\n        \n        // Fetch recent users\n        const usersData = await adminService.getUsers();\n        const recentUsersData = usersData.slice(0, 5);\n        \n        // Fetch behavior presets\n        const behaviorsData = await adminService.getBehaviorPresets();\n        const recentBehaviorsData = behaviorsData.slice(0, 5);\n        \n        // Process user data for charts\n        const usersByRole = processUsersByRole(usersData);\n        const userGrowth = processUserGrowthData(usersData);\n        \n        // Update state with fetched data\n        setStats({\n          totalUsers: systemStats.users?.total || 0,\n          activeClients: systemStats.users?.clients || 0,\n          activeTherapists: systemStats.users?.therapists || 0,\n          activeBehaviors: systemStats.behaviors || 0,\n          totalConversations: systemStats.conversations || 0,\n          totalMessages: systemStats.messages || 0,\n          totalRevenue: calculateEstimatedRevenue(systemStats.users?.clients || 0),\n          averageSentiment: 0 // This would be calculated from message sentiments\n        });\n        \n        setRecentUsers(recentUsersData);\n        setRecentBehaviors(recentBehaviorsData);\n        setUserGrowthData(userGrowth);\n        setUserDistributionData(usersByRole);\n      }\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const processUsersByRole = (users) => {\n    // Count users by role\n    const roleCounts = {\n      client: 0,\n      therapist: 0,\n      admin: 0\n    };\n    \n    users.forEach(user => {\n      if (user.role in roleCounts) {\n        roleCounts[user.role]++;\n      }\n    });\n    \n    // Create chart data\n    return {\n      labels: ['Clients', 'Therapists', 'Admins'],\n      datasets: [{\n        label: 'Users by Role',\n        data: [roleCounts.client, roleCounts.therapist, roleCounts.admin],\n        backgroundColor: [\n          'rgba(54, 162, 235, 0.6)',\n          'rgba(153, 102, 255, 0.6)',\n          'rgba(255, 99, 132, 0.6)'\n        ],\n        borderColor: [\n          'rgb(54, 162, 235)',\n          'rgb(153, 102, 255)',\n          'rgb(255, 99, 132)'\n        ],\n        borderWidth: 1\n      }]\n    };\n  };\n  \n  const processUserGrowthData = (users) => {\n    // Get data for the last 30 days\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n    \n    // Filter users created in the last 30 days\n    const recentUsers = users.filter(user => \n      new Date(user.created_at) >= thirtyDaysAgo\n    );\n    \n    // Group by date\n    const dailyCounts = {};\n    recentUsers.forEach(user => {\n      const date = new Date(user.created_at).toLocaleDateString();\n      dailyCounts[date] = (dailyCounts[date] || 0) + 1;\n    });\n    \n    // Sort dates\n    const sortedDates = Object.keys(dailyCounts).sort(\n      (a, b) => new Date(a) - new Date(b)\n    );\n    \n    // Create chart data\n    return {\n      labels: sortedDates,\n      datasets: [{\n        label: 'New Users',\n        data: sortedDates.map(date => dailyCounts[date]),\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        fill: true,\n        tension: 0.4\n      }]\n    };\n  };\n  \n  const calculateEstimatedRevenue = (clientCount) => {\n    // Simple revenue estimation based on client count\n    // This would be replaced with actual payment data in a real system\n    const averageSubscriptionPrice = 49.99;\n    return clientCount * averageSubscriptionPrice;\n  };\n\n  useEffect(() => {\n    // Always fetch dashboard data in development mode\n    fetchDashboardData();\n  }, []);\n\n  if (loading && !refreshing) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n      {/* Welcome Section */}\n      <div className=\"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-lg p-6 mb-8 text-white\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">\n              Admin Dashboard\n            </h1>\n            <p className=\"mt-2 text-purple-100 max-w-2xl\">\n              Monitor and manage the platform's performance, users, and behavior presets\n            </p>\n          </div>\n          <button\n            onClick={refreshDashboard}\n            disabled={refreshing}\n            className=\"flex items-center bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-white px-4 py-2 rounded-lg disabled:opacity-50\"\n          >\n            <ArrowPathIcon className={`h-5 w-5 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-blue-100 rounded-full mr-4\">\n            <UserGroupIcon className=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Total Users</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.totalUsers}</p>\n            <div className=\"mt-1 flex justify-between text-xs text-gray-500\">\n              <span>Clients: {stats.activeClients}</span>\n              <span className=\"mx-2\">|</span>\n              <span>Therapists: {stats.activeTherapists}</span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-purple-100 rounded-full mr-4\">\n            <DocumentTextIcon className=\"h-6 w-6 text-purple-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Behavior Presets</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.activeBehaviors}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-green-100 rounded-full mr-4\">\n            <CurrencyDollarIcon className=\"h-6 w-6 text-green-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Est. Monthly Revenue</p>\n            <p className=\"text-2xl font-bold text-gray-900\">${stats.totalRevenue.toFixed(2)}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-indigo-100 rounded-full mr-4\">\n            <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-indigo-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Platform Activity</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.totalMessages}</p>\n            <p className=\"text-xs text-gray-500 mt-1\">Across {stats.totalConversations} conversations</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content Grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\">\n        {/* Left Column - Charts */}\n        <div className=\"lg:col-span-2 space-y-8\">\n          {/* User Growth Chart */}\n          {userGrowthData && (\n            <div className=\"bg-white rounded-xl shadow p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">User Growth</h2>\n                <div className=\"text-sm text-gray-500\">Last 30 days</div>\n              </div>\n              <div className=\"h-64\">\n                <Line\n                  data={userGrowthData}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        position: 'top',\n                      },\n                      tooltip: {\n                        callbacks: {\n                          label: function(context) {\n                            return `New users: ${context.parsed.y}`;\n                          }\n                        }\n                      }\n                    },\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        ticks: {\n                          stepSize: 1\n                        },\n                        title: {\n                          display: true,\n                          text: 'New Users'\n                        }\n                      },\n                      x: {\n                        title: {\n                          display: true,\n                          text: 'Date'\n                        }\n                      }\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          )}\n          \n          {/* User Distribution Chart */}\n          {userDistributionData && (\n            <div className=\"bg-white rounded-xl shadow p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">User Distribution</h2>\n              </div>\n              <div className=\"h-64\">\n                <Bar\n                  data={userDistributionData}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        display: false\n                      }\n                    },\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        title: {\n                          display: true,\n                          text: 'Number of Users'\n                        }\n                      }\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Right Column - Recent Data */}\n        <div className=\"space-y-8\">\n          {/* Recent Users */}\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Recent Users</h2>\n              <Link\n                to=\"/admin/users\"\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n              >\n                View All <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\n              </Link>\n            </div>\n            \n            <div className=\"space-y-4\">\n              {recentUsers.map((user) => (\n                <div key={user.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center\">\n                      <UserIcon className=\"h-5 w-5 text-indigo-600\" />\n                    </div>\n                    <div className=\"ml-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {user.name || 'Unnamed User'}\n                      </div>\n                      <div className=\"text-xs text-gray-500 flex items-center\">\n                        <span className=\"capitalize\">{user.role}</span>\n                        <span className=\"mx-1\"></span>\n                        <span>{new Date(user.created_at).toLocaleDateString()}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <Link\n                    to={`/admin/users/${user.id}`}\n                    className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n                  >\n                    Details\n                  </Link>\n                </div>\n              ))}\n              \n              {recentUsers.length === 0 && (\n                <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                  <p className=\"text-gray-500\">No users found</p>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Recent Behavior Presets */}\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Recent Behavior Presets</h2>\n              <Link\n                to=\"/admin/behaviors\"\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n              >\n                View All <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\n              </Link>\n            </div>\n            \n            <div className=\"space-y-4\">\n              {recentBehaviors.map((behavior) => (\n                <div key={behavior.id} className=\"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{behavior.name}</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        Created by: {behavior.created_by?.name || 'Unknown'}\n                      </p>\n                    </div>\n                    <Link\n                      to={`/admin/behaviors/${behavior.id}`}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n                    >\n                      Edit\n                    </Link>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mt-2 line-clamp-2\">\n                    {behavior.prompt_template ? behavior.prompt_template.substring(0, 100) + '...' : behavior.description || 'No description available'}\n                  </p>\n                </div>\n              ))}\n              \n              {recentBehaviors.length === 0 && (\n                <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                  <p className=\"text-gray-500\">No behavior presets found</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Quick Actions */}\n      <div className=\"bg-white rounded-xl shadow p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-6\">Quick Actions</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Link\n            to=\"/admin/users/new\"\n            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            <UserIcon className=\"h-5 w-5 text-blue-600 mr-3\" />\n            <span className=\"text-gray-900\">Create New User</span>\n          </Link>\n          \n          <Link\n            to=\"/admin/behaviors/new\"\n            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            <DocumentTextIcon className=\"h-5 w-5 text-purple-600 mr-3\" />\n            <span className=\"text-gray-900\">Create Behavior Preset</span>\n          </Link>\n          \n          <Link\n            to=\"/admin/reports\"\n            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            <ChartBarIcon className=\"h-5 w-5 text-green-600 mr-3\" />\n            <span className=\"text-gray-900\">View Reports</span>\n          </Link>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <Link\n          to=\"/admin/behaviors\"\n          className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\"\n        >\n          <h3 className=\"text-lg font-medium text-secondary-900\">Manage Behaviors</h3>\n          <p className=\"mt-2 text-secondary-600\">\n            Configure AI agent behavior presets\n          </p>\n        </Link>\n        \n        <Link\n          to=\"/admin/users\"\n          className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\"\n        >\n          <h3 className=\"text-lg font-medium text-secondary-900\">User Management</h3>\n          <p className=\"mt-2 text-secondary-600\">\n            Manage users and permissions\n          </p>\n        </Link>\n        \n        <Link\n          to=\"/admin/subscriptions\"\n          className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\"\n        >\n          <h3 className=\"text-lg font-medium text-secondary-900\">Subscriptions</h3>\n          <p className=\"mt-2 text-secondary-600\">\n            Manage subscription plans and billing\n          </p>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}