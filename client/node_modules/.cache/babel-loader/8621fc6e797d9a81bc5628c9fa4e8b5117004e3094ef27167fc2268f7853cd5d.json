{"ast":null,"code":"var _jsxFileName = \"/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/client/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../../hooks/useAuth';\nimport { supabase } from '../../services/supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const messagesEndRef = useRef(null);\n  const {\n    user\n  } = useAuth();\n\n  // Scroll to bottom of messages\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Load conversation history\n  useEffect(() => {\n    const loadMessages = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from('messages').select('*').eq('conversation_id', getCurrentConversationId()).order('timestamp', {\n          ascending: true\n        });\n        if (error) throw error;\n        setMessages(data || []);\n      } catch (error) {\n        console.error('Error loading messages:', error);\n      }\n    };\n    loadMessages();\n  }, []);\n\n  // Get or create conversation ID\n  const getCurrentConversationId = () => {\n    // For now, using a simple timestamp-based ID. In production, manage this properly\n    return localStorage.getItem('currentConversationId') || localStorage.setItem('currentConversationId', `conv_${Date.now()}`);\n  };\n\n  // Handle text message submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!inputMessage.trim()) return;\n    const newMessage = {\n      conversation_id: getCurrentConversationId(),\n      sender: 'user',\n      text: inputMessage,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, newMessage]);\n    setInputMessage('');\n    setIsProcessing(true);\n    try {\n      // Save message to database\n      const {\n        error\n      } = await supabase.from('messages').insert([newMessage]);\n      if (error) throw error;\n\n      // Get AI response\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: inputMessage,\n          conversation_id: getCurrentConversationId(),\n          user_id: user.id\n        })\n      });\n      if (!response.ok) throw new Error('Failed to get AI response');\n      const aiResponse = await response.json();\n\n      // Save AI response to database and update UI\n      const aiMessage = {\n        conversation_id: getCurrentConversationId(),\n        sender: 'ai',\n        text: aiResponse.message,\n        timestamp: new Date().toISOString()\n      };\n      const {\n        error: aiError\n      } = await supabase.from('messages').insert([aiMessage]);\n      if (aiError) throw aiError;\n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error processing message:', error);\n      // Show error in UI\n      setMessages(prev => [...prev, {\n        sender: 'system',\n        text: 'Sorry, there was an error processing your message. Please try again.',\n        timestamp: new Date().toISOString()\n      }]);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Handle voice recording\n  const toggleRecording = async () => {\n    if (isRecording) {\n      // Stop recording and process audio\n      setIsRecording(false);\n      // Add audio processing logic here\n    } else {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true\n        });\n        // Add recording logic here\n        setIsRecording(true);\n      } catch (error) {\n        console.error('Error accessing microphone:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-[calc(100vh-12rem)]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-[70%] rounded-lg p-3 ${message.sender === 'user' ? 'bg-primary-100 text-primary-900' : message.sender === 'system' ? 'bg-red-100 text-red-900' : 'bg-secondary-100 text-secondary-900'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-secondary-500 mt-1\",\n            children: new Date(message.timestamp).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t p-4 bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: inputMessage,\n          onChange: e => setInputMessage(e.target.value),\n          disabled: isProcessing,\n          placeholder: \"Type your message...\",\n          className: \"flex-1 rounded-lg border border-secondary-300 p-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: toggleRecording,\n          className: `p-2 rounded-lg ${isRecording ? 'bg-red-500 text-white' : 'bg-secondary-100 text-secondary-600'}`,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-6 w-6\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !inputMessage.trim() || isProcessing,\n          className: \"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\",\n          children: isProcessing ? /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin h-5 w-5\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this) : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"6Ze+puQb2Ok+UZA2YI42XwyVKME=\", false, function () {\n  return [useAuth];\n});\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","supabase","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","inputMessage","setInputMessage","isRecording","setIsRecording","isProcessing","setIsProcessing","messagesEndRef","user","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","loadMessages","data","error","from","select","eq","getCurrentConversationId","order","ascending","console","localStorage","getItem","setItem","Date","now","handleSubmit","e","preventDefault","trim","newMessage","conversation_id","sender","text","timestamp","toISOString","prev","insert","response","fetch","method","headers","body","JSON","stringify","message","user_id","id","ok","Error","aiResponse","json","aiMessage","aiError","toggleRecording","stream","navigator","mediaDevices","getUserMedia","audio","className","children","map","index","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleTimeString","ref","onSubmit","type","value","onChange","target","disabled","placeholder","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","cx","cy","r","_c","$RefreshReg$"],"sources":["/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/client/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../../hooks/useAuth';\nimport { supabase } from '../../services/supabaseClient';\n\nconst Chat = () => {\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const messagesEndRef = useRef(null);\n  const { user } = useAuth();\n  \n  // Scroll to bottom of messages\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n  \n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  \n  // Load conversation history\n  useEffect(() => {\n    const loadMessages = async () => {\n      try {\n        const { data, error } = await supabase\n          .from('messages')\n          .select('*')\n          .eq('conversation_id', getCurrentConversationId())\n          .order('timestamp', { ascending: true });\n          \n        if (error) throw error;\n        \n        setMessages(data || []);\n      } catch (error) {\n        console.error('Error loading messages:', error);\n      }\n    };\n    \n    loadMessages();\n  }, []);\n  \n  // Get or create conversation ID\n  const getCurrentConversationId = () => {\n    // For now, using a simple timestamp-based ID. In production, manage this properly\n    return localStorage.getItem('currentConversationId') || \n           localStorage.setItem('currentConversationId', `conv_${Date.now()}`);\n  };\n  \n  // Handle text message submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!inputMessage.trim()) return;\n    \n    const newMessage = {\n      conversation_id: getCurrentConversationId(),\n      sender: 'user',\n      text: inputMessage,\n      timestamp: new Date().toISOString(),\n    };\n    \n    setMessages(prev => [...prev, newMessage]);\n    setInputMessage('');\n    setIsProcessing(true);\n    \n    try {\n      // Save message to database\n      const { error } = await supabase\n        .from('messages')\n        .insert([newMessage]);\n        \n      if (error) throw error;\n      \n      // Get AI response\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: inputMessage,\n          conversation_id: getCurrentConversationId(),\n          user_id: user.id\n        }),\n      });\n      \n      if (!response.ok) throw new Error('Failed to get AI response');\n      \n      const aiResponse = await response.json();\n      \n      // Save AI response to database and update UI\n      const aiMessage = {\n        conversation_id: getCurrentConversationId(),\n        sender: 'ai',\n        text: aiResponse.message,\n        timestamp: new Date().toISOString(),\n      };\n      \n      const { error: aiError } = await supabase\n        .from('messages')\n        .insert([aiMessage]);\n        \n      if (aiError) throw aiError;\n      \n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error processing message:', error);\n      // Show error in UI\n      setMessages(prev => [...prev, {\n        sender: 'system',\n        text: 'Sorry, there was an error processing your message. Please try again.',\n        timestamp: new Date().toISOString(),\n      }]);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  \n  // Handle voice recording\n  const toggleRecording = async () => {\n    if (isRecording) {\n      // Stop recording and process audio\n      setIsRecording(false);\n      // Add audio processing logic here\n    } else {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n        // Add recording logic here\n        setIsRecording(true);\n      } catch (error) {\n        console.error('Error accessing microphone:', error);\n      }\n    }\n  };\n  \n  return (\n    <div className=\"flex flex-col h-[calc(100vh-12rem)]\">\n      {/* Messages area */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n          >\n            <div\n              className={`max-w-[70%] rounded-lg p-3 ${\n                message.sender === 'user'\n                  ? 'bg-primary-100 text-primary-900'\n                  : message.sender === 'system'\n                  ? 'bg-red-100 text-red-900'\n                  : 'bg-secondary-100 text-secondary-900'\n              }`}\n            >\n              <p className=\"text-sm\">{message.text}</p>\n              <span className=\"text-xs text-secondary-500 mt-1\">\n                {new Date(message.timestamp).toLocaleTimeString()}\n              </span>\n            </div>\n          </div>\n        ))}\n        <div ref={messagesEndRef} />\n      </div>\n      \n      {/* Input area */}\n      <div className=\"border-t p-4 bg-white\">\n        <form onSubmit={handleSubmit} className=\"flex space-x-4\">\n          <input\n            type=\"text\"\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            disabled={isProcessing}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 rounded-lg border border-secondary-300 p-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n          />\n          <button\n            type=\"button\"\n            onClick={toggleRecording}\n            className={`p-2 rounded-lg ${\n              isRecording\n                ? 'bg-red-500 text-white'\n                : 'bg-secondary-100 text-secondary-600'\n            }`}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n              />\n            </svg>\n          </button>\n          <button\n            type=\"submit\"\n            disabled={!inputMessage.trim() || isProcessing}\n            className=\"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\"\n          >\n            {isProcessing ? (\n              <svg\n                className=\"animate-spin h-5 w-5\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle\n                  className=\"opacity-25\"\n                  cx=\"12\"\n                  cy=\"12\"\n                  r=\"10\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"4\"\n                ></circle>\n                <path\n                  className=\"opacity-75\"\n                  fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                ></path>\n              </svg>\n            ) : (\n              'Send'\n            )}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}