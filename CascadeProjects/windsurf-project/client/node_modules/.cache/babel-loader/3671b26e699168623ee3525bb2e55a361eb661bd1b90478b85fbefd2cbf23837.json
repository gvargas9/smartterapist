{"ast":null,"code":"var _jsxFileName = \"/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/admin/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { adminService } from '../../services/adminService';\nimport { Line, Bar } from 'react-chartjs-2';\nimport { UserGroupIcon, UserIcon, CurrencyDollarIcon, ChatBubbleLeftRightIcon, DocumentTextIcon, ArrowPathIcon, ArrowRightIcon, ChartBarIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    activeClients: 0,\n    activeTherapists: 0,\n    totalRevenue: 0,\n    activeBehaviors: 0,\n    totalConversations: 0,\n    totalMessages: 0,\n    averageSentiment: 0\n  });\n  const [recentUsers, setRecentUsers] = useState([]);\n  const [recentBehaviors, setRecentBehaviors] = useState([]);\n  const [userGrowthData, setUserGrowthData] = useState(null);\n  const [userDistributionData, setUserDistributionData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const refreshDashboard = async () => {\n    setRefreshing(true);\n    try {\n      await fetchDashboardData();\n    } finally {\n      setRefreshing(false);\n    }\n  };\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n\n      // In development mode, use mock data\n      // Mock system stats\n      const mockSystemStats = {\n        users: {\n          total: 42,\n          clients: 30,\n          therapists: 10,\n          admins: 2\n        },\n        behaviors: 15,\n        conversations: 128,\n        messages: 2456\n      };\n\n      // Mock users data\n      const mockUsersData = [{\n        id: 'user-1',\n        name: 'John Smith',\n        email: 'john@example.com',\n        role: 'client',\n        created_at: '2025-05-01T10:30:00Z',\n        profile_data: {\n          name: 'John Smith'\n        }\n      }, {\n        id: 'user-2',\n        name: 'Sarah Johnson',\n        email: 'sarah@example.com',\n        role: 'client',\n        created_at: '2025-05-03T14:45:00Z',\n        profile_data: {\n          name: 'Sarah Johnson'\n        }\n      }, {\n        id: 'user-3',\n        name: 'Dr. Michael Brown',\n        email: 'michael@example.com',\n        role: 'therapist',\n        created_at: '2025-05-05T09:15:00Z',\n        profile_data: {\n          name: 'Dr. Michael Brown'\n        }\n      }, {\n        id: 'user-4',\n        name: 'Emily Davis',\n        email: 'emily@example.com',\n        role: 'client',\n        created_at: '2025-05-07T16:20:00Z',\n        profile_data: {\n          name: 'Emily Davis'\n        }\n      }, {\n        id: 'user-5',\n        name: 'Admin User',\n        email: 'admin@example.com',\n        role: 'admin',\n        created_at: '2025-05-10T11:00:00Z',\n        profile_data: {\n          name: 'Admin User'\n        }\n      }];\n\n      // Mock behavior presets\n      const mockBehaviorsData = [{\n        id: 'behavior-1',\n        name: 'Anxiety Management',\n        description: 'Techniques for managing anxiety and panic attacks',\n        created_at: '2025-05-02T13:30:00Z'\n      }, {\n        id: 'behavior-2',\n        name: 'Depression Support',\n        description: 'Support strategies for depression and low mood',\n        created_at: '2025-05-04T10:15:00Z'\n      }, {\n        id: 'behavior-3',\n        name: 'Stress Reduction',\n        description: 'Methods to reduce and manage daily stress',\n        created_at: '2025-05-06T15:45:00Z'\n      }, {\n        id: 'behavior-4',\n        name: 'Sleep Improvement',\n        description: 'Techniques for better sleep quality and habits',\n        created_at: '2025-05-08T09:30:00Z'\n      }, {\n        id: 'behavior-5',\n        name: 'Mindfulness Practice',\n        description: 'Mindfulness and meditation exercises',\n        created_at: '2025-05-10T14:00:00Z'\n      }];\n\n      // Process user data for charts\n      const usersByRole = processUsersByRole(mockUsersData);\n      const userGrowth = processUserGrowthData(mockUsersData);\n\n      // Update state with mock data\n      setStats({\n        totalUsers: mockSystemStats.users.total,\n        activeClients: mockSystemStats.users.clients,\n        activeTherapists: mockSystemStats.users.therapists,\n        activeBehaviors: mockSystemStats.behaviors,\n        totalConversations: mockSystemStats.conversations,\n        totalMessages: mockSystemStats.messages,\n        totalRevenue: calculateEstimatedRevenue(mockSystemStats.users.clients),\n        averageSentiment: 0.72 // Mock sentiment score\n      });\n      setRecentUsers(mockUsersData);\n      setRecentBehaviors(mockBehaviorsData);\n      setUserGrowthData(userGrowth);\n      setUserDistributionData(usersByRole);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const processUsersByRole = users => {\n    // Count users by role\n    const roleCounts = {\n      client: 0,\n      therapist: 0,\n      admin: 0\n    };\n    users.forEach(user => {\n      if (user.role in roleCounts) {\n        roleCounts[user.role]++;\n      }\n    });\n\n    // Create chart data\n    return {\n      labels: ['Clients', 'Therapists', 'Admins'],\n      datasets: [{\n        label: 'Users by Role',\n        data: [roleCounts.client, roleCounts.therapist, roleCounts.admin],\n        backgroundColor: ['rgba(54, 162, 235, 0.6)', 'rgba(153, 102, 255, 0.6)', 'rgba(255, 99, 132, 0.6)'],\n        borderColor: ['rgb(54, 162, 235)', 'rgb(153, 102, 255)', 'rgb(255, 99, 132)'],\n        borderWidth: 1\n      }]\n    };\n  };\n  const processUserGrowthData = users => {\n    // Get data for the last 30 days\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n\n    // Filter users created in the last 30 days\n    const recentUsers = users.filter(user => new Date(user.created_at) >= thirtyDaysAgo);\n\n    // Group by date\n    const dailyCounts = {};\n    recentUsers.forEach(user => {\n      const date = new Date(user.created_at).toLocaleDateString();\n      dailyCounts[date] = (dailyCounts[date] || 0) + 1;\n    });\n\n    // Sort dates\n    const sortedDates = Object.keys(dailyCounts).sort((a, b) => new Date(a) - new Date(b));\n\n    // Create chart data\n    return {\n      labels: sortedDates,\n      datasets: [{\n        label: 'New Users',\n        data: sortedDates.map(date => dailyCounts[date]),\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        fill: true,\n        tension: 0.4\n      }]\n    };\n  };\n  const calculateEstimatedRevenue = clientCount => {\n    // Simple revenue estimation based on client count\n    // This would be replaced with actual payment data in a real system\n    const averageSubscriptionPrice = 49.99;\n    return clientCount * averageSubscriptionPrice;\n  };\n  useEffect(() => {\n    // In development mode, we can proceed even without a user\n    fetchDashboardData();\n  }, []);\n  if (loading && !refreshing) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-lg p-6 mb-8 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold\",\n            children: \"Admin Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-purple-100 max-w-2xl\",\n            children: \"Monitor and manage the platform's performance, users, and behavior presets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: refreshDashboard,\n          disabled: refreshing,\n          className: \"flex items-center bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-white px-4 py-2 rounded-lg disabled:opacity-50\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n            className: `h-5 w-5 mr-2 ${refreshing ? 'animate-spin' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), \"Refresh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-blue-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(UserGroupIcon, {\n            className: \"h-6 w-6 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Total Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: stats.totalUsers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 flex justify-between text-xs text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Clients: \", stats.activeClients]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mx-2\",\n              children: \"|\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Therapists: \", stats.activeTherapists]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-purple-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n            className: \"h-6 w-6 text-purple-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Behavior Presets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: stats.activeBehaviors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-green-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(CurrencyDollarIcon, {\n            className: \"h-6 w-6 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Est. Monthly Revenue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: [\"$\", stats.totalRevenue.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow p-6 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-indigo-100 rounded-full mr-4\",\n          children: /*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n            className: \"h-6 w-6 text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Platform Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: stats.totalMessages\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [\"Across \", stats.totalConversations, \" conversations\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-8\",\n        children: [userGrowthData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"User Growth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Last 30 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-64\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: userGrowthData,\n              options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: {\n                    position: 'top'\n                  },\n                  tooltip: {\n                    callbacks: {\n                      label: function (context) {\n                        return `New users: ${context.parsed.y}`;\n                      }\n                    }\n                  }\n                },\n                scales: {\n                  y: {\n                    beginAtZero: true,\n                    ticks: {\n                      stepSize: 1\n                    },\n                    title: {\n                      display: true,\n                      text: 'New Users'\n                    }\n                  },\n                  x: {\n                    title: {\n                      display: true,\n                      text: 'Date'\n                    }\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), userDistributionData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"User Distribution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-64\",\n            children: /*#__PURE__*/_jsxDEV(Bar, {\n              data: userDistributionData,\n              options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: {\n                    display: false\n                  }\n                },\n                scales: {\n                  y: {\n                    beginAtZero: true,\n                    title: {\n                      display: true,\n                      text: 'Number of Users'\n                    }\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Recent Users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/users\",\n              className: \"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\",\n              children: [\"View All \", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"h-4 w-4 ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [recentUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                    className: \"h-5 w-5 text-indigo-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: user.name || 'Unnamed User'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"capitalize\",\n                      children: user.role\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"mx-1\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: new Date(user.created_at).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 446,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/admin/users/${user.id}`,\n                className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n                children: \"Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)), recentUsers.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 bg-gray-50 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No users found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800\",\n              children: \"Recent Behavior Presets\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/behaviors\",\n              className: \"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\",\n              children: [\"View All \", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"h-4 w-4 ml-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [recentBehaviors.map(behavior => {\n              var _behavior$created_by;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: behavior.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: [\"Created by: \", ((_behavior$created_by = behavior.created_by) === null || _behavior$created_by === void 0 ? void 0 : _behavior$created_by.name) || 'Unknown']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 485,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/admin/behaviors/${behavior.id}`,\n                    className: \"text-blue-600 hover:text-blue-800 text-sm font-medium\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mt-2 line-clamp-2\",\n                  children: [behavior.prompt_template.substring(0, 100), \"...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 19\n                }, this)]\n              }, behavior.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this);\n            }), recentBehaviors.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 bg-gray-50 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No behavior presets found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-800 mb-6\",\n        children: \"Quick Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/users/new\",\n          className: \"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n            className: \"h-5 w-5 text-blue-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900\",\n            children: \"Create New User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/behaviors/new\",\n          className: \"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n            className: \"h-5 w-5 text-purple-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900\",\n            children: \"Create Behavior Preset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/reports\",\n          className: \"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(ChartBarIcon, {\n            className: \"h-5 w-5 text-green-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-900\",\n            children: \"View Reports\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/behaviors\",\n        className: \"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900\",\n          children: \"Manage Behaviors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-secondary-600\",\n          children: \"Configure AI agent behavior presets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/users\",\n        className: \"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-secondary-600\",\n          children: \"Manage users and permissions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/subscriptions\",\n        className: \"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900\",\n          children: \"Subscriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-secondary-600\",\n          children: \"Manage subscription plans and billing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"C3rpdyaTA2Dqcgjhr4uKnUBw71A=\", false, function () {\n  return [useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth","adminService","Line","Bar","UserGroupIcon","UserIcon","CurrencyDollarIcon","ChatBubbleLeftRightIcon","DocumentTextIcon","ArrowPathIcon","ArrowRightIcon","ChartBarIcon","jsxDEV","_jsxDEV","Dashboard","_s","user","stats","setStats","totalUsers","activeClients","activeTherapists","totalRevenue","activeBehaviors","totalConversations","totalMessages","averageSentiment","recentUsers","setRecentUsers","recentBehaviors","setRecentBehaviors","userGrowthData","setUserGrowthData","userDistributionData","setUserDistributionData","loading","setLoading","refreshing","setRefreshing","refreshDashboard","fetchDashboardData","mockSystemStats","users","total","clients","therapists","admins","behaviors","conversations","messages","mockUsersData","id","name","email","role","created_at","profile_data","mockBehaviorsData","description","usersByRole","processUsersByRole","userGrowth","processUserGrowthData","calculateEstimatedRevenue","error","console","roleCounts","client","therapist","admin","forEach","labels","datasets","label","data","backgroundColor","borderColor","borderWidth","thirtyDaysAgo","Date","setDate","getDate","filter","dailyCounts","date","toLocaleDateString","sortedDates","Object","keys","sort","a","b","map","fill","tension","clientCount","averageSubscriptionPrice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","toFixed","options","responsive","maintainAspectRatio","plugins","legend","position","tooltip","callbacks","context","parsed","y","scales","beginAtZero","ticks","stepSize","title","display","text","x","to","length","behavior","_behavior$created_by","created_by","prompt_template","substring","_c","$RefreshReg$"],"sources":["/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/admin/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { adminService } from '../../services/adminService';\nimport { Line, Bar } from 'react-chartjs-2';\nimport {\n  UserGroupIcon,\n  UserIcon,\n  CurrencyDollarIcon,\n  ChatBubbleLeftRightIcon,\n  DocumentTextIcon,\n  ArrowPathIcon,\n  ArrowRightIcon,\n  ChartBarIcon\n} from '@heroicons/react/24/outline';\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    activeClients: 0,\n    activeTherapists: 0,\n    totalRevenue: 0,\n    activeBehaviors: 0,\n    totalConversations: 0,\n    totalMessages: 0,\n    averageSentiment: 0\n  });\n  const [recentUsers, setRecentUsers] = useState([]);\n  const [recentBehaviors, setRecentBehaviors] = useState([]);\n  const [userGrowthData, setUserGrowthData] = useState(null);\n  const [userDistributionData, setUserDistributionData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n\n  const refreshDashboard = async () => {\n    setRefreshing(true);\n    try {\n      await fetchDashboardData();\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // In development mode, use mock data\n      // Mock system stats\n      const mockSystemStats = {\n        users: {\n          total: 42,\n          clients: 30,\n          therapists: 10,\n          admins: 2\n        },\n        behaviors: 15,\n        conversations: 128,\n        messages: 2456\n      };\n      \n      // Mock users data\n      const mockUsersData = [\n        {\n          id: 'user-1',\n          name: 'John Smith',\n          email: 'john@example.com',\n          role: 'client',\n          created_at: '2025-05-01T10:30:00Z',\n          profile_data: { name: 'John Smith' }\n        },\n        {\n          id: 'user-2',\n          name: 'Sarah Johnson',\n          email: 'sarah@example.com',\n          role: 'client',\n          created_at: '2025-05-03T14:45:00Z',\n          profile_data: { name: 'Sarah Johnson' }\n        },\n        {\n          id: 'user-3',\n          name: 'Dr. Michael Brown',\n          email: 'michael@example.com',\n          role: 'therapist',\n          created_at: '2025-05-05T09:15:00Z',\n          profile_data: { name: 'Dr. Michael Brown' }\n        },\n        {\n          id: 'user-4',\n          name: 'Emily Davis',\n          email: 'emily@example.com',\n          role: 'client',\n          created_at: '2025-05-07T16:20:00Z',\n          profile_data: { name: 'Emily Davis' }\n        },\n        {\n          id: 'user-5',\n          name: 'Admin User',\n          email: 'admin@example.com',\n          role: 'admin',\n          created_at: '2025-05-10T11:00:00Z',\n          profile_data: { name: 'Admin User' }\n        }\n      ];\n      \n      // Mock behavior presets\n      const mockBehaviorsData = [\n        {\n          id: 'behavior-1',\n          name: 'Anxiety Management',\n          description: 'Techniques for managing anxiety and panic attacks',\n          created_at: '2025-05-02T13:30:00Z'\n        },\n        {\n          id: 'behavior-2',\n          name: 'Depression Support',\n          description: 'Support strategies for depression and low mood',\n          created_at: '2025-05-04T10:15:00Z'\n        },\n        {\n          id: 'behavior-3',\n          name: 'Stress Reduction',\n          description: 'Methods to reduce and manage daily stress',\n          created_at: '2025-05-06T15:45:00Z'\n        },\n        {\n          id: 'behavior-4',\n          name: 'Sleep Improvement',\n          description: 'Techniques for better sleep quality and habits',\n          created_at: '2025-05-08T09:30:00Z'\n        },\n        {\n          id: 'behavior-5',\n          name: 'Mindfulness Practice',\n          description: 'Mindfulness and meditation exercises',\n          created_at: '2025-05-10T14:00:00Z'\n        }\n      ];\n      \n      // Process user data for charts\n      const usersByRole = processUsersByRole(mockUsersData);\n      const userGrowth = processUserGrowthData(mockUsersData);\n      \n      // Update state with mock data\n      setStats({\n        totalUsers: mockSystemStats.users.total,\n        activeClients: mockSystemStats.users.clients,\n        activeTherapists: mockSystemStats.users.therapists,\n        activeBehaviors: mockSystemStats.behaviors,\n        totalConversations: mockSystemStats.conversations,\n        totalMessages: mockSystemStats.messages,\n        totalRevenue: calculateEstimatedRevenue(mockSystemStats.users.clients),\n        averageSentiment: 0.72 // Mock sentiment score\n      });\n      \n      setRecentUsers(mockUsersData);\n      setRecentBehaviors(mockBehaviorsData);\n      setUserGrowthData(userGrowth);\n      setUserDistributionData(usersByRole);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const processUsersByRole = (users) => {\n    // Count users by role\n    const roleCounts = {\n      client: 0,\n      therapist: 0,\n      admin: 0\n    };\n    \n    users.forEach(user => {\n      if (user.role in roleCounts) {\n        roleCounts[user.role]++;\n      }\n    });\n    \n    // Create chart data\n    return {\n      labels: ['Clients', 'Therapists', 'Admins'],\n      datasets: [{\n        label: 'Users by Role',\n        data: [roleCounts.client, roleCounts.therapist, roleCounts.admin],\n        backgroundColor: [\n          'rgba(54, 162, 235, 0.6)',\n          'rgba(153, 102, 255, 0.6)',\n          'rgba(255, 99, 132, 0.6)'\n        ],\n        borderColor: [\n          'rgb(54, 162, 235)',\n          'rgb(153, 102, 255)',\n          'rgb(255, 99, 132)'\n        ],\n        borderWidth: 1\n      }]\n    };\n  };\n  \n  const processUserGrowthData = (users) => {\n    // Get data for the last 30 days\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n    \n    // Filter users created in the last 30 days\n    const recentUsers = users.filter(user => \n      new Date(user.created_at) >= thirtyDaysAgo\n    );\n    \n    // Group by date\n    const dailyCounts = {};\n    recentUsers.forEach(user => {\n      const date = new Date(user.created_at).toLocaleDateString();\n      dailyCounts[date] = (dailyCounts[date] || 0) + 1;\n    });\n    \n    // Sort dates\n    const sortedDates = Object.keys(dailyCounts).sort(\n      (a, b) => new Date(a) - new Date(b)\n    );\n    \n    // Create chart data\n    return {\n      labels: sortedDates,\n      datasets: [{\n        label: 'New Users',\n        data: sortedDates.map(date => dailyCounts[date]),\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        fill: true,\n        tension: 0.4\n      }]\n    };\n  };\n  \n  const calculateEstimatedRevenue = (clientCount) => {\n    // Simple revenue estimation based on client count\n    // This would be replaced with actual payment data in a real system\n    const averageSubscriptionPrice = 49.99;\n    return clientCount * averageSubscriptionPrice;\n  };\n\n  useEffect(() => {\n    // In development mode, we can proceed even without a user\n    fetchDashboardData();\n  }, []);\n\n  if (loading && !refreshing) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n      {/* Welcome Section */}\n      <div className=\"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-lg p-6 mb-8 text-white\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">\n              Admin Dashboard\n            </h1>\n            <p className=\"mt-2 text-purple-100 max-w-2xl\">\n              Monitor and manage the platform's performance, users, and behavior presets\n            </p>\n          </div>\n          <button\n            onClick={refreshDashboard}\n            disabled={refreshing}\n            className=\"flex items-center bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-white px-4 py-2 rounded-lg disabled:opacity-50\"\n          >\n            <ArrowPathIcon className={`h-5 w-5 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-blue-100 rounded-full mr-4\">\n            <UserGroupIcon className=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Total Users</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.totalUsers}</p>\n            <div className=\"mt-1 flex justify-between text-xs text-gray-500\">\n              <span>Clients: {stats.activeClients}</span>\n              <span className=\"mx-2\">|</span>\n              <span>Therapists: {stats.activeTherapists}</span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-purple-100 rounded-full mr-4\">\n            <DocumentTextIcon className=\"h-6 w-6 text-purple-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Behavior Presets</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.activeBehaviors}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-green-100 rounded-full mr-4\">\n            <CurrencyDollarIcon className=\"h-6 w-6 text-green-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Est. Monthly Revenue</p>\n            <p className=\"text-2xl font-bold text-gray-900\">${stats.totalRevenue.toFixed(2)}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-indigo-100 rounded-full mr-4\">\n            <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-indigo-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Platform Activity</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.totalMessages}</p>\n            <p className=\"text-xs text-gray-500 mt-1\">Across {stats.totalConversations} conversations</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content Grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8\">\n        {/* Left Column - Charts */}\n        <div className=\"lg:col-span-2 space-y-8\">\n          {/* User Growth Chart */}\n          {userGrowthData && (\n            <div className=\"bg-white rounded-xl shadow p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">User Growth</h2>\n                <div className=\"text-sm text-gray-500\">Last 30 days</div>\n              </div>\n              <div className=\"h-64\">\n                <Line\n                  data={userGrowthData}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        position: 'top',\n                      },\n                      tooltip: {\n                        callbacks: {\n                          label: function(context) {\n                            return `New users: ${context.parsed.y}`;\n                          }\n                        }\n                      }\n                    },\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        ticks: {\n                          stepSize: 1\n                        },\n                        title: {\n                          display: true,\n                          text: 'New Users'\n                        }\n                      },\n                      x: {\n                        title: {\n                          display: true,\n                          text: 'Date'\n                        }\n                      }\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          )}\n          \n          {/* User Distribution Chart */}\n          {userDistributionData && (\n            <div className=\"bg-white rounded-xl shadow p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">User Distribution</h2>\n              </div>\n              <div className=\"h-64\">\n                <Bar\n                  data={userDistributionData}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        display: false\n                      }\n                    },\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        title: {\n                          display: true,\n                          text: 'Number of Users'\n                        }\n                      }\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Right Column - Recent Data */}\n        <div className=\"space-y-8\">\n          {/* Recent Users */}\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Recent Users</h2>\n              <Link\n                to=\"/admin/users\"\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n              >\n                View All <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\n              </Link>\n            </div>\n            \n            <div className=\"space-y-4\">\n              {recentUsers.map((user) => (\n                <div key={user.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center\">\n                      <UserIcon className=\"h-5 w-5 text-indigo-600\" />\n                    </div>\n                    <div className=\"ml-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {user.name || 'Unnamed User'}\n                      </div>\n                      <div className=\"text-xs text-gray-500 flex items-center\">\n                        <span className=\"capitalize\">{user.role}</span>\n                        <span className=\"mx-1\">•</span>\n                        <span>{new Date(user.created_at).toLocaleDateString()}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <Link\n                    to={`/admin/users/${user.id}`}\n                    className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n                  >\n                    Details\n                  </Link>\n                </div>\n              ))}\n              \n              {recentUsers.length === 0 && (\n                <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                  <p className=\"text-gray-500\">No users found</p>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Recent Behavior Presets */}\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Recent Behavior Presets</h2>\n              <Link\n                to=\"/admin/behaviors\"\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n              >\n                View All <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\n              </Link>\n            </div>\n            \n            <div className=\"space-y-4\">\n              {recentBehaviors.map((behavior) => (\n                <div key={behavior.id} className=\"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{behavior.name}</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        Created by: {behavior.created_by?.name || 'Unknown'}\n                      </p>\n                    </div>\n                    <Link\n                      to={`/admin/behaviors/${behavior.id}`}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n                    >\n                      Edit\n                    </Link>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mt-2 line-clamp-2\">\n                    {behavior.prompt_template.substring(0, 100)}...\n                  </p>\n                </div>\n              ))}\n              \n              {recentBehaviors.length === 0 && (\n                <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                  <p className=\"text-gray-500\">No behavior presets found</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Quick Actions */}\n      <div className=\"bg-white rounded-xl shadow p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-6\">Quick Actions</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Link\n            to=\"/admin/users/new\"\n            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            <UserIcon className=\"h-5 w-5 text-blue-600 mr-3\" />\n            <span className=\"text-gray-900\">Create New User</span>\n          </Link>\n          \n          <Link\n            to=\"/admin/behaviors/new\"\n            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            <DocumentTextIcon className=\"h-5 w-5 text-purple-600 mr-3\" />\n            <span className=\"text-gray-900\">Create Behavior Preset</span>\n          </Link>\n          \n          <Link\n            to=\"/admin/reports\"\n            className=\"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            <ChartBarIcon className=\"h-5 w-5 text-green-600 mr-3\" />\n            <span className=\"text-gray-900\">View Reports</span>\n          </Link>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <Link\n          to=\"/admin/behaviors\"\n          className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\"\n        >\n          <h3 className=\"text-lg font-medium text-secondary-900\">Manage Behaviors</h3>\n          <p className=\"mt-2 text-secondary-600\">\n            Configure AI agent behavior presets\n          </p>\n        </Link>\n        \n        <Link\n          to=\"/admin/users\"\n          className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\"\n        >\n          <h3 className=\"text-lg font-medium text-secondary-900\">User Management</h3>\n          <p className=\"mt-2 text-secondary-600\">\n            Manage users and permissions\n          </p>\n        </Link>\n        \n        <Link\n          to=\"/admin/subscriptions\"\n          className=\"bg-white rounded-lg shadow p-6 hover:shadow-md transition-shadow\"\n        >\n          <h3 className=\"text-lg font-medium text-secondary-900\">Subscriptions</h3>\n          <p className=\"mt-2 text-secondary-600\">\n            Manage subscription plans and billing\n          </p>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,YAAY,QAAQ,6BAA6B;AAC1D,SAASC,IAAI,EAAEC,GAAG,QAAQ,iBAAiB;AAC3C,SACEC,aAAa,EACbC,QAAQ,EACRC,kBAAkB,EAClBC,uBAAuB,EACvBC,gBAAgB,EAChBC,aAAa,EACbC,cAAc,EACdC,YAAY,QACP,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC;EAAK,CAAC,GAAGhB,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC;IACjCsB,UAAU,EAAE,CAAC;IACbC,aAAa,EAAE,CAAC;IAChBC,gBAAgB,EAAE,CAAC;IACnBC,YAAY,EAAE,CAAC;IACfC,eAAe,EAAE,CAAC;IAClBC,kBAAkB,EAAE,CAAC;IACrBC,aAAa,EAAE,CAAC;IAChBC,gBAAgB,EAAE;EACpB,CAAC,CAAC;EACF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACkC,cAAc,EAAEC,iBAAiB,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACoC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EACtE,MAAM,CAACsC,OAAO,EAAEC,UAAU,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwC,UAAU,EAAEC,aAAa,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAM0C,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnCD,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF,MAAME,kBAAkB,CAAC,CAAC;IAC5B,CAAC,SAAS;MACRF,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAME,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACFJ,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACA;MACA,MAAMK,eAAe,GAAG;QACtBC,KAAK,EAAE;UACLC,KAAK,EAAE,EAAE;UACTC,OAAO,EAAE,EAAE;UACXC,UAAU,EAAE,EAAE;UACdC,MAAM,EAAE;QACV,CAAC;QACDC,SAAS,EAAE,EAAE;QACbC,aAAa,EAAE,GAAG;QAClBC,QAAQ,EAAE;MACZ,CAAC;;MAED;MACA,MAAMC,aAAa,GAAG,CACpB;QACEC,EAAE,EAAE,QAAQ;QACZC,IAAI,EAAE,YAAY;QAClBC,KAAK,EAAE,kBAAkB;QACzBC,IAAI,EAAE,QAAQ;QACdC,UAAU,EAAE,sBAAsB;QAClCC,YAAY,EAAE;UAAEJ,IAAI,EAAE;QAAa;MACrC,CAAC,EACD;QACED,EAAE,EAAE,QAAQ;QACZC,IAAI,EAAE,eAAe;QACrBC,KAAK,EAAE,mBAAmB;QAC1BC,IAAI,EAAE,QAAQ;QACdC,UAAU,EAAE,sBAAsB;QAClCC,YAAY,EAAE;UAAEJ,IAAI,EAAE;QAAgB;MACxC,CAAC,EACD;QACED,EAAE,EAAE,QAAQ;QACZC,IAAI,EAAE,mBAAmB;QACzBC,KAAK,EAAE,qBAAqB;QAC5BC,IAAI,EAAE,WAAW;QACjBC,UAAU,EAAE,sBAAsB;QAClCC,YAAY,EAAE;UAAEJ,IAAI,EAAE;QAAoB;MAC5C,CAAC,EACD;QACED,EAAE,EAAE,QAAQ;QACZC,IAAI,EAAE,aAAa;QACnBC,KAAK,EAAE,mBAAmB;QAC1BC,IAAI,EAAE,QAAQ;QACdC,UAAU,EAAE,sBAAsB;QAClCC,YAAY,EAAE;UAAEJ,IAAI,EAAE;QAAc;MACtC,CAAC,EACD;QACED,EAAE,EAAE,QAAQ;QACZC,IAAI,EAAE,YAAY;QAClBC,KAAK,EAAE,mBAAmB;QAC1BC,IAAI,EAAE,OAAO;QACbC,UAAU,EAAE,sBAAsB;QAClCC,YAAY,EAAE;UAAEJ,IAAI,EAAE;QAAa;MACrC,CAAC,CACF;;MAED;MACA,MAAMK,iBAAiB,GAAG,CACxB;QACEN,EAAE,EAAE,YAAY;QAChBC,IAAI,EAAE,oBAAoB;QAC1BM,WAAW,EAAE,mDAAmD;QAChEH,UAAU,EAAE;MACd,CAAC,EACD;QACEJ,EAAE,EAAE,YAAY;QAChBC,IAAI,EAAE,oBAAoB;QAC1BM,WAAW,EAAE,gDAAgD;QAC7DH,UAAU,EAAE;MACd,CAAC,EACD;QACEJ,EAAE,EAAE,YAAY;QAChBC,IAAI,EAAE,kBAAkB;QACxBM,WAAW,EAAE,2CAA2C;QACxDH,UAAU,EAAE;MACd,CAAC,EACD;QACEJ,EAAE,EAAE,YAAY;QAChBC,IAAI,EAAE,mBAAmB;QACzBM,WAAW,EAAE,gDAAgD;QAC7DH,UAAU,EAAE;MACd,CAAC,EACD;QACEJ,EAAE,EAAE,YAAY;QAChBC,IAAI,EAAE,sBAAsB;QAC5BM,WAAW,EAAE,sCAAsC;QACnDH,UAAU,EAAE;MACd,CAAC,CACF;;MAED;MACA,MAAMI,WAAW,GAAGC,kBAAkB,CAACV,aAAa,CAAC;MACrD,MAAMW,UAAU,GAAGC,qBAAqB,CAACZ,aAAa,CAAC;;MAEvD;MACAhC,QAAQ,CAAC;QACPC,UAAU,EAAEsB,eAAe,CAACC,KAAK,CAACC,KAAK;QACvCvB,aAAa,EAAEqB,eAAe,CAACC,KAAK,CAACE,OAAO;QAC5CvB,gBAAgB,EAAEoB,eAAe,CAACC,KAAK,CAACG,UAAU;QAClDtB,eAAe,EAAEkB,eAAe,CAACM,SAAS;QAC1CvB,kBAAkB,EAAEiB,eAAe,CAACO,aAAa;QACjDvB,aAAa,EAAEgB,eAAe,CAACQ,QAAQ;QACvC3B,YAAY,EAAEyC,yBAAyB,CAACtB,eAAe,CAACC,KAAK,CAACE,OAAO,CAAC;QACtElB,gBAAgB,EAAE,IAAI,CAAC;MACzB,CAAC,CAAC;MAEFE,cAAc,CAACsB,aAAa,CAAC;MAC7BpB,kBAAkB,CAAC2B,iBAAiB,CAAC;MACrCzB,iBAAiB,CAAC6B,UAAU,CAAC;MAC7B3B,uBAAuB,CAACyB,WAAW,CAAC;IACtC,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,SAAS;MACR5B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMwB,kBAAkB,GAAIlB,KAAK,IAAK;IACpC;IACA,MAAMwB,UAAU,GAAG;MACjBC,MAAM,EAAE,CAAC;MACTC,SAAS,EAAE,CAAC;MACZC,KAAK,EAAE;IACT,CAAC;IAED3B,KAAK,CAAC4B,OAAO,CAACtD,IAAI,IAAI;MACpB,IAAIA,IAAI,CAACsC,IAAI,IAAIY,UAAU,EAAE;QAC3BA,UAAU,CAAClD,IAAI,CAACsC,IAAI,CAAC,EAAE;MACzB;IACF,CAAC,CAAC;;IAEF;IACA,OAAO;MACLiB,MAAM,EAAE,CAAC,SAAS,EAAE,YAAY,EAAE,QAAQ,CAAC;MAC3CC,QAAQ,EAAE,CAAC;QACTC,KAAK,EAAE,eAAe;QACtBC,IAAI,EAAE,CAACR,UAAU,CAACC,MAAM,EAAED,UAAU,CAACE,SAAS,EAAEF,UAAU,CAACG,KAAK,CAAC;QACjEM,eAAe,EAAE,CACf,yBAAyB,EACzB,0BAA0B,EAC1B,yBAAyB,CAC1B;QACDC,WAAW,EAAE,CACX,mBAAmB,EACnB,oBAAoB,EACpB,mBAAmB,CACpB;QACDC,WAAW,EAAE;MACf,CAAC;IACH,CAAC;EACH,CAAC;EAED,MAAMf,qBAAqB,GAAIpB,KAAK,IAAK;IACvC;IACA,MAAMoC,aAAa,GAAG,IAAIC,IAAI,CAAC,CAAC;IAChCD,aAAa,CAACE,OAAO,CAACF,aAAa,CAACG,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;;IAEnD;IACA,MAAMtD,WAAW,GAAGe,KAAK,CAACwC,MAAM,CAAClE,IAAI,IACnC,IAAI+D,IAAI,CAAC/D,IAAI,CAACuC,UAAU,CAAC,IAAIuB,aAC/B,CAAC;;IAED;IACA,MAAMK,WAAW,GAAG,CAAC,CAAC;IACtBxD,WAAW,CAAC2C,OAAO,CAACtD,IAAI,IAAI;MAC1B,MAAMoE,IAAI,GAAG,IAAIL,IAAI,CAAC/D,IAAI,CAACuC,UAAU,CAAC,CAAC8B,kBAAkB,CAAC,CAAC;MAC3DF,WAAW,CAACC,IAAI,CAAC,GAAG,CAACD,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAClD,CAAC,CAAC;;IAEF;IACA,MAAME,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACL,WAAW,CAAC,CAACM,IAAI,CAC/C,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIZ,IAAI,CAACW,CAAC,CAAC,GAAG,IAAIX,IAAI,CAACY,CAAC,CACpC,CAAC;;IAED;IACA,OAAO;MACLpB,MAAM,EAAEe,WAAW;MACnBd,QAAQ,EAAE,CAAC;QACTC,KAAK,EAAE,WAAW;QAClBC,IAAI,EAAEY,WAAW,CAACM,GAAG,CAACR,IAAI,IAAID,WAAW,CAACC,IAAI,CAAC,CAAC;QAChDR,WAAW,EAAE,mBAAmB;QAChCD,eAAe,EAAE,yBAAyB;QAC1CkB,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE;MACX,CAAC;IACH,CAAC;EACH,CAAC;EAED,MAAM/B,yBAAyB,GAAIgC,WAAW,IAAK;IACjD;IACA;IACA,MAAMC,wBAAwB,GAAG,KAAK;IACtC,OAAOD,WAAW,GAAGC,wBAAwB;EAC/C,CAAC;EAEDlG,SAAS,CAAC,MAAM;IACd;IACA0C,kBAAkB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIL,OAAO,IAAI,CAACE,UAAU,EAAE;IAC1B,oBACExB,OAAA;MAAKoF,SAAS,EAAC,yCAAyC;MAAAC,QAAA,eACtDrF,OAAA;QAAKoF,SAAS,EAAC;MAAgE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnF,CAAC;EAEV;EAEA,oBACEzF,OAAA;IAAKoF,SAAS,EAAC,6CAA6C;IAAAC,QAAA,gBAE1DrF,OAAA;MAAKoF,SAAS,EAAC,yFAAyF;MAAAC,QAAA,eACtGrF,OAAA;QAAKoF,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChDrF,OAAA;UAAAqF,QAAA,gBACErF,OAAA;YAAIoF,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAEnC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLzF,OAAA;YAAGoF,SAAS,EAAC,gCAAgC;YAAAC,QAAA,EAAC;UAE9C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACNzF,OAAA;UACE0F,OAAO,EAAEhE,gBAAiB;UAC1BiE,QAAQ,EAAEnE,UAAW;UACrB4D,SAAS,EAAC,oIAAoI;UAAAC,QAAA,gBAE9IrF,OAAA,CAACJ,aAAa;YAACwF,SAAS,EAAE,gBAAgB5D,UAAU,GAAG,cAAc,GAAG,EAAE;UAAG;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,WAElF;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzF,OAAA;MAAKoF,SAAS,EAAC,2DAA2D;MAAAC,QAAA,gBACxErF,OAAA;QAAKoF,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/DrF,OAAA;UAAKoF,SAAS,EAAC,mCAAmC;UAAAC,QAAA,eAChDrF,OAAA,CAACT,aAAa;YAAC6F,SAAS,EAAC;UAAuB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,eACNzF,OAAA;UAAAqF,QAAA,gBACErF,OAAA;YAAGoF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACpDzF,OAAA;YAAGoF,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAEjF,KAAK,CAACE;UAAU;YAAAgF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtEzF,OAAA;YAAKoF,SAAS,EAAC,iDAAiD;YAAAC,QAAA,gBAC9DrF,OAAA;cAAAqF,QAAA,GAAM,WAAS,EAACjF,KAAK,CAACG,aAAa;YAAA;cAAA+E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3CzF,OAAA;cAAMoF,SAAS,EAAC,MAAM;cAAAC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC/BzF,OAAA;cAAAqF,QAAA,GAAM,cAAY,EAACjF,KAAK,CAACI,gBAAgB;YAAA;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKoF,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/DrF,OAAA;UAAKoF,SAAS,EAAC,qCAAqC;UAAAC,QAAA,eAClDrF,OAAA,CAACL,gBAAgB;YAACyF,SAAS,EAAC;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACNzF,OAAA;UAAAqF,QAAA,gBACErF,OAAA;YAAGoF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACzDzF,OAAA;YAAGoF,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAEjF,KAAK,CAACM;UAAe;YAAA4E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKoF,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/DrF,OAAA;UAAKoF,SAAS,EAAC,oCAAoC;UAAAC,QAAA,eACjDrF,OAAA,CAACP,kBAAkB;YAAC2F,SAAS,EAAC;UAAwB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtD,CAAC,eACNzF,OAAA;UAAAqF,QAAA,gBACErF,OAAA;YAAGoF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC7DzF,OAAA;YAAGoF,SAAS,EAAC,kCAAkC;YAAAC,QAAA,GAAC,GAAC,EAACjF,KAAK,CAACK,YAAY,CAACmF,OAAO,CAAC,CAAC,CAAC;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKoF,SAAS,EAAC,kDAAkD;QAAAC,QAAA,gBAC/DrF,OAAA;UAAKoF,SAAS,EAAC,qCAAqC;UAAAC,QAAA,eAClDrF,OAAA,CAACN,uBAAuB;YAAC0F,SAAS,EAAC;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACNzF,OAAA;UAAAqF,QAAA,gBACErF,OAAA;YAAGoF,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC1DzF,OAAA;YAAGoF,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAEjF,KAAK,CAACQ;UAAa;YAAA0E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACzEzF,OAAA;YAAGoF,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GAAC,SAAO,EAACjF,KAAK,CAACO,kBAAkB,EAAC,gBAAc;UAAA;YAAA2E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1F,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzF,OAAA;MAAKoF,SAAS,EAAC,4CAA4C;MAAAC,QAAA,gBAEzDrF,OAAA;QAAKoF,SAAS,EAAC,yBAAyB;QAAAC,QAAA,GAErCnE,cAAc,iBACblB,OAAA;UAAKoF,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CrF,OAAA;YAAKoF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDrF,OAAA;cAAIoF,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpEzF,OAAA;cAAKoF,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC,eACNzF,OAAA;YAAKoF,SAAS,EAAC,MAAM;YAAAC,QAAA,eACnBrF,OAAA,CAACX,IAAI;cACHwE,IAAI,EAAE3C,cAAe;cACrB2E,OAAO,EAAE;gBACPC,UAAU,EAAE,IAAI;gBAChBC,mBAAmB,EAAE,KAAK;gBAC1BC,OAAO,EAAE;kBACPC,MAAM,EAAE;oBACNC,QAAQ,EAAE;kBACZ,CAAC;kBACDC,OAAO,EAAE;oBACPC,SAAS,EAAE;sBACTxC,KAAK,EAAE,SAAAA,CAASyC,OAAO,EAAE;wBACvB,OAAO,cAAcA,OAAO,CAACC,MAAM,CAACC,CAAC,EAAE;sBACzC;oBACF;kBACF;gBACF,CAAC;gBACDC,MAAM,EAAE;kBACND,CAAC,EAAE;oBACDE,WAAW,EAAE,IAAI;oBACjBC,KAAK,EAAE;sBACLC,QAAQ,EAAE;oBACZ,CAAC;oBACDC,KAAK,EAAE;sBACLC,OAAO,EAAE,IAAI;sBACbC,IAAI,EAAE;oBACR;kBACF,CAAC;kBACDC,CAAC,EAAE;oBACDH,KAAK,EAAE;sBACLC,OAAO,EAAE,IAAI;sBACbC,IAAI,EAAE;oBACR;kBACF;gBACF;cACF;YAAE;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGArE,oBAAoB,iBACnBpB,OAAA;UAAKoF,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CrF,OAAA;YAAKoF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,eACrDrF,OAAA;cAAIoF,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC,eACNzF,OAAA;YAAKoF,SAAS,EAAC,MAAM;YAAAC,QAAA,eACnBrF,OAAA,CAACV,GAAG;cACFuE,IAAI,EAAEzC,oBAAqB;cAC3ByE,OAAO,EAAE;gBACPC,UAAU,EAAE,IAAI;gBAChBC,mBAAmB,EAAE,KAAK;gBAC1BC,OAAO,EAAE;kBACPC,MAAM,EAAE;oBACNY,OAAO,EAAE;kBACX;gBACF,CAAC;gBACDL,MAAM,EAAE;kBACND,CAAC,EAAE;oBACDE,WAAW,EAAE,IAAI;oBACjBG,KAAK,EAAE;sBACLC,OAAO,EAAE,IAAI;sBACbC,IAAI,EAAE;oBACR;kBACF;gBACF;cACF;YAAE;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNzF,OAAA;QAAKoF,SAAS,EAAC,WAAW;QAAAC,QAAA,gBAExBrF,OAAA;UAAKoF,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CrF,OAAA;YAAKoF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDrF,OAAA;cAAIoF,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrEzF,OAAA,CAACd,IAAI;cACH8H,EAAE,EAAC,cAAc;cACjB5B,SAAS,EAAC,yEAAyE;cAAAC,QAAA,GACpF,WACU,eAAArF,OAAA,CAACH,cAAc;gBAACuF,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAENzF,OAAA;YAAKoF,SAAS,EAAC,WAAW;YAAAC,QAAA,GACvBvE,WAAW,CAACiE,GAAG,CAAE5E,IAAI,iBACpBH,OAAA;cAAmBoF,SAAS,EAAC,iGAAiG;cAAAC,QAAA,gBAC5HrF,OAAA;gBAAKoF,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,gBAChCrF,OAAA;kBAAKoF,SAAS,EAAC,qFAAqF;kBAAAC,QAAA,eAClGrF,OAAA,CAACR,QAAQ;oBAAC4F,SAAS,EAAC;kBAAyB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7C,CAAC,eACNzF,OAAA;kBAAKoF,SAAS,EAAC,MAAM;kBAAAC,QAAA,gBACnBrF,OAAA;oBAAKoF,SAAS,EAAC,mCAAmC;oBAAAC,QAAA,EAC/ClF,IAAI,CAACoC,IAAI,IAAI;kBAAc;oBAAA+C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzB,CAAC,eACNzF,OAAA;oBAAKoF,SAAS,EAAC,yCAAyC;oBAAAC,QAAA,gBACtDrF,OAAA;sBAAMoF,SAAS,EAAC,YAAY;sBAAAC,QAAA,EAAElF,IAAI,CAACsC;oBAAI;sBAAA6C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAC/CzF,OAAA;sBAAMoF,SAAS,EAAC,MAAM;sBAAAC,QAAA,EAAC;oBAAC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eAC/BzF,OAAA;sBAAAqF,QAAA,EAAO,IAAInB,IAAI,CAAC/D,IAAI,CAACuC,UAAU,CAAC,CAAC8B,kBAAkB,CAAC;oBAAC;sBAAAc,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1D,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACNzF,OAAA,CAACd,IAAI;gBACH8H,EAAE,EAAE,gBAAgB7G,IAAI,CAACmC,EAAE,EAAG;gBAC9B8C,SAAS,EAAC,uDAAuD;gBAAAC,QAAA,EAClE;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,GArBCtF,IAAI,CAACmC,EAAE;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAsBZ,CACN,CAAC,EAED3E,WAAW,CAACmG,MAAM,KAAK,CAAC,iBACvBjH,OAAA;cAAKoF,SAAS,EAAC,wCAAwC;cAAAC,QAAA,eACrDrF,OAAA;gBAAGoF,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNzF,OAAA;UAAKoF,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CrF,OAAA;YAAKoF,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDrF,OAAA;cAAIoF,SAAS,EAAC,qCAAqC;cAAAC,QAAA,EAAC;YAAuB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChFzF,OAAA,CAACd,IAAI;cACH8H,EAAE,EAAC,kBAAkB;cACrB5B,SAAS,EAAC,yEAAyE;cAAAC,QAAA,GACpF,WACU,eAAArF,OAAA,CAACH,cAAc;gBAACuF,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAENzF,OAAA;YAAKoF,SAAS,EAAC,WAAW;YAAAC,QAAA,GACvBrE,eAAe,CAAC+D,GAAG,CAAEmC,QAAQ;cAAA,IAAAC,oBAAA;cAAA,oBAC5BnH,OAAA;gBAAuBoF,SAAS,EAAC,+DAA+D;gBAAAC,QAAA,gBAC9FrF,OAAA;kBAAKoF,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,gBAC/CrF,OAAA;oBAAAqF,QAAA,gBACErF,OAAA;sBAAGoF,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,EAAE6B,QAAQ,CAAC3E;oBAAI;sBAAA+C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC5DzF,OAAA;sBAAGoF,SAAS,EAAC,4BAA4B;sBAAAC,QAAA,GAAC,cAC5B,EAAC,EAAA8B,oBAAA,GAAAD,QAAQ,CAACE,UAAU,cAAAD,oBAAA,uBAAnBA,oBAAA,CAAqB5E,IAAI,KAAI,SAAS;oBAAA;sBAAA+C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CAAC,eACNzF,OAAA,CAACd,IAAI;oBACH8H,EAAE,EAAE,oBAAoBE,QAAQ,CAAC5E,EAAE,EAAG;oBACtC8C,SAAS,EAAC,uDAAuD;oBAAAC,QAAA,EAClE;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACNzF,OAAA;kBAAGoF,SAAS,EAAC,yCAAyC;kBAAAC,QAAA,GACnD6B,QAAQ,CAACG,eAAe,CAACC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC,KAC9C;gBAAA;kBAAAhC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA,GAjBIyB,QAAQ,CAAC5E,EAAE;gBAAAgD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAkBhB,CAAC;YAAA,CACP,CAAC,EAEDzE,eAAe,CAACiG,MAAM,KAAK,CAAC,iBAC3BjH,OAAA;cAAKoF,SAAS,EAAC,wCAAwC;cAAAC,QAAA,eACrDrF,OAAA;gBAAGoF,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAyB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvD,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzF,OAAA;MAAKoF,SAAS,EAAC,gCAAgC;MAAAC,QAAA,gBAC7CrF,OAAA;QAAIoF,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3EzF,OAAA;QAAKoF,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDrF,OAAA,CAACd,IAAI;UACH8H,EAAE,EAAC,kBAAkB;UACrB5B,SAAS,EAAC,iFAAiF;UAAAC,QAAA,gBAE3FrF,OAAA,CAACR,QAAQ;YAAC4F,SAAS,EAAC;UAA4B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACnDzF,OAAA;YAAMoF,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eAEPzF,OAAA,CAACd,IAAI;UACH8H,EAAE,EAAC,sBAAsB;UACzB5B,SAAS,EAAC,iFAAiF;UAAAC,QAAA,gBAE3FrF,OAAA,CAACL,gBAAgB;YAACyF,SAAS,EAAC;UAA8B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7DzF,OAAA;YAAMoF,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC,eAEPzF,OAAA,CAACd,IAAI;UACH8H,EAAE,EAAC,gBAAgB;UACnB5B,SAAS,EAAC,iFAAiF;UAAAC,QAAA,gBAE3FrF,OAAA,CAACF,YAAY;YAACsF,SAAS,EAAC;UAA6B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxDzF,OAAA;YAAMoF,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzF,OAAA;MAAKoF,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDrF,OAAA,CAACd,IAAI;QACH8H,EAAE,EAAC,kBAAkB;QACrB5B,SAAS,EAAC,kEAAkE;QAAAC,QAAA,gBAE5ErF,OAAA;UAAIoF,SAAS,EAAC,wCAAwC;UAAAC,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5EzF,OAAA;UAAGoF,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAEvC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eAEPzF,OAAA,CAACd,IAAI;QACH8H,EAAE,EAAC,cAAc;QACjB5B,SAAS,EAAC,kEAAkE;QAAAC,QAAA,gBAE5ErF,OAAA;UAAIoF,SAAS,EAAC,wCAAwC;UAAAC,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3EzF,OAAA;UAAGoF,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAEvC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eAEPzF,OAAA,CAACd,IAAI;QACH8H,EAAE,EAAC,sBAAsB;QACzB5B,SAAS,EAAC,kEAAkE;QAAAC,QAAA,gBAE5ErF,OAAA;UAAIoF,SAAS,EAAC,wCAAwC;UAAAC,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzEzF,OAAA;UAAGoF,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAEvC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACvF,EAAA,CA/iBID,SAAS;EAAA,QACId,OAAO;AAAA;AAAAoI,EAAA,GADpBtH,SAAS;AAijBf,eAAeA,SAAS;AAAC,IAAAsH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}