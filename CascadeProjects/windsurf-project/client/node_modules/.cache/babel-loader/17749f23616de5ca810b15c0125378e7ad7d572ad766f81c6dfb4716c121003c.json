{"ast":null,"code":"import React from'react';import{Navigate,Outlet}from'react-router-dom';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{role}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"})});}// If not logged in, redirect to login\nif(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}// If role is specified and doesn't match, redirect to appropriate dashboard\nif(role&&user.role!==role){if(user.role==='client'){return/*#__PURE__*/_jsx(Navigate,{to:\"/client/dashboard\",replace:true});}else if(user.role==='therapist'){return/*#__PURE__*/_jsx(Navigate,{to:\"/therapist/dashboard\",replace:true});}else if(user.role==='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\",replace:true});}else{// Unknown role, log out for safety\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}}// If everything is fine, render the child routes\nreturn/*#__PURE__*/_jsx(Outlet,{});};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","Outlet","useAuth","jsx","_jsx","ProtectedRoute","_ref","role","user","loading","className","children","to","replace"],"sources":["/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/components/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\nimport { Navigate, Outlet } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth';\n\nconst ProtectedRoute = ({ role }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n  \n  // If not logged in, redirect to login\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  \n  // If role is specified and doesn't match, redirect to appropriate dashboard\n  if (role && user.role !== role) {\n    if (user.role === 'client') {\n      return <Navigate to=\"/client/dashboard\" replace />;\n    } else if (user.role === 'therapist') {\n      return <Navigate to=\"/therapist/dashboard\" replace />;\n    } else if (user.role === 'admin') {\n      return <Navigate to=\"/admin/dashboard\" replace />;\n    } else {\n      // Unknown role, log out for safety\n      return <Navigate to=\"/login\" replace />;\n    }\n  }\n  \n  // If everything is fine, render the child routes\n  return <Outlet />;\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,MAAM,KAAQ,kBAAkB,CACnD,OAASC,OAAO,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAAEE,IAAI,CAAEC,OAAQ,CAAC,CAAGP,OAAO,CAAC,CAAC,CAEnC,GAAIO,OAAO,CAAE,CACX,mBACEL,IAAA,QAAKM,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxDP,IAAA,QAAKM,SAAS,CAAC,mEAAmE,CAAM,CAAC,CACtF,CAAC,CAEV,CAEA;AACA,GAAI,CAACF,IAAI,CAAE,CACT,mBAAOJ,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA;AACA,GAAIN,IAAI,EAAIC,IAAI,CAACD,IAAI,GAAKA,IAAI,CAAE,CAC9B,GAAIC,IAAI,CAACD,IAAI,GAAK,QAAQ,CAAE,CAC1B,mBAAOH,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,mBAAmB,CAACC,OAAO,MAAE,CAAC,CACpD,CAAC,IAAM,IAAIL,IAAI,CAACD,IAAI,GAAK,WAAW,CAAE,CACpC,mBAAOH,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,sBAAsB,CAACC,OAAO,MAAE,CAAC,CACvD,CAAC,IAAM,IAAIL,IAAI,CAACD,IAAI,GAAK,OAAO,CAAE,CAChC,mBAAOH,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,kBAAkB,CAACC,OAAO,MAAE,CAAC,CACnD,CAAC,IAAM,CACL;AACA,mBAAOT,IAAA,CAACJ,QAAQ,EAACY,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CACF,CAEA;AACA,mBAAOT,IAAA,CAACH,MAAM,GAAE,CAAC,CACnB,CAAC,CAED,cAAe,CAAAI,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}