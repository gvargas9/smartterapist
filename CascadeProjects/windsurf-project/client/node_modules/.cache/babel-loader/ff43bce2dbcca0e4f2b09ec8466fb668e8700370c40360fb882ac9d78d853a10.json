{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useAuth}from'../../hooks/useAuth';import{therapistService}from'../../services/therapistService';import{UserGroupIcon,CalendarIcon,DocumentTextIcon,ClockIcon,ArrowPathIcon,ArrowRightIcon,ChatBubbleLeftRightIcon}from'@heroicons/react/24/outline';import{Line}from'react-chartjs-2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{var _user$profile_data;const{user}=useAuth();const[clients,setClients]=useState([]);const[upcomingSessions,setUpcomingSessions]=useState([]);const[recentSummaries,setRecentSummaries]=useState([]);const[sentimentTrend,setSentimentTrend]=useState(null);const[stats,setStats]=useState({totalClients:0,upcomingSessionsCount:0,recentSummariesCount:0,averageSentiment:0});const[loading,setLoading]=useState(true);const[refreshing,setRefreshing]=useState(false);const refreshDashboard=async()=>{setRefreshing(true);try{await fetchDashboardData();}finally{setRefreshing(false);}};const fetchDashboardData=async()=>{try{setLoading(true);// Fetch assigned clients\nconst clientsData=await therapistService.getAssignedClients(user.id);setClients(clientsData||[]);// Fetch upcoming sessions\nconst sessionsData=await therapistService.getUpcomingSessions(user.id);setUpcomingSessions(sessionsData||[]);// Fetch recent summaries\nconst summariesData=await therapistService.getRecentSummaries(user.id);setRecentSummaries(summariesData||[]);// Calculate stats\nconst avgSentiment=calculateAverageSentiment(summariesData);setStats({totalClients:clientsData.length,upcomingSessionsCount:sessionsData.length,recentSummariesCount:summariesData.length,averageSentiment:avgSentiment});// Generate sentiment trend data for chart\ngenerateSentimentTrendData(summariesData);}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};const calculateAverageSentiment=summaries=>{if(!summaries||summaries.length===0)return 0;const validSentiments=summaries.filter(summary=>summary.sentiment_metrics&&summary.sentiment_metrics.average).map(summary=>summary.sentiment_metrics.average);if(validSentiments.length===0)return 0;return(validSentiments.reduce((sum,score)=>sum+score,0)/validSentiments.length).toFixed(2);};const generateSentimentTrendData=summaries=>{if(!summaries||summaries.length===0){setSentimentTrend(null);return;}// Group summaries by date\nconst dateGroups={};summaries.forEach(summary=>{if(!summary.sentiment_metrics||!summary.sentiment_metrics.average)return;const date=new Date(summary.created_at).toLocaleDateString();if(!dateGroups[date]){dateGroups[date]=[];}dateGroups[date].push(summary.sentiment_metrics.average);});// Calculate average for each date\nconst dates=Object.keys(dateGroups).sort((a,b)=>new Date(a)-new Date(b));const data=dates.map(date=>{const scores=dateGroups[date];return scores.reduce((sum,score)=>sum+score,0)/scores.length;});if(dates.length===0||data.length===0){setSentimentTrend(null);return;}const chartData={labels:dates,datasets:[{label:'Client Sentiment Trend',data:data,borderColor:'rgb(59, 130, 246)',backgroundColor:'rgba(59, 130, 246, 0.1)',fill:true,tension:0.4}]};setSentimentTrend(chartData);};useEffect(()=>{if(user&&user.id){fetchDashboardData();}},[user]);if(loading&&!refreshing){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow-lg p-6 mb-8 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold\",children:[\"Welcome, Dr. \",((_user$profile_data=user.profile_data)===null||_user$profile_data===void 0?void 0:_user$profile_data.name)||'Therapist']}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-blue-100 max-w-2xl\",children:\"Manage your clients, review AI-generated insights, and schedule upcoming sessions.\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:refreshDashboard,disabled:refreshing,className:\"flex items-center bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-white px-4 py-2 rounded-lg disabled:opacity-50\",children:[/*#__PURE__*/_jsx(ArrowPathIcon,{className:`h-5 w-5 mr-2 ${refreshing?'animate-spin':''}`}),\"Refresh\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-full mr-4\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Active Clients\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.totalClients})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-indigo-100 rounded-full mr-4\",children:/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-6 w-6 text-indigo-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Upcoming Sessions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.upcomingSessionsCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-purple-100 rounded-full mr-4\",children:/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-6 w-6 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Recent Summaries\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.recentSummariesCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-full mr-4\",children:/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Avg. Sentiment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.averageSentiment})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-8\",children:[sentimentTrend?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-6\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Client Sentiment Trends\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(Line,{data:sentimentTrend,options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top'},tooltip:{callbacks:{label:function(context){return`Score: ${context.parsed.y.toFixed(2)}`;}}}},scales:{y:{beginAtZero:true,max:1,title:{display:true,text:'Average Sentiment Score'}},x:{title:{display:true,text:'Date'}}}}})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-sm text-gray-500 italic\",children:\"This chart shows the average emotional well-being trends across all your clients based on AI analysis.\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-4\",children:\"Client Sentiment Trends\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No sentiment data available yet\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Upcoming Sessions\"}),/*#__PURE__*/_jsxs(Link,{to:\"/therapist/clients\",className:\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\",children:[\"View All \",/*#__PURE__*/_jsx(ArrowRightIcon,{className:\"h-4 w-4 ml-1\"})]})]}),upcomingSessions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:upcomingSessions.map(session=>{var _session$clients;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-full mr-4\",children:/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:((_session$clients=session.clients)===null||_session$clients===void 0?void 0:_session$clients.name)||'Client'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:new Date(session.start_time).toLocaleString()})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* Join session logic */},className:\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors\",children:\"Join\"})]},session.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No upcoming sessions scheduled\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* Schedule session logic */},className:\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors\",children:\"Schedule New Session\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Recent AI Summaries\"}),/*#__PURE__*/_jsxs(Link,{to:\"/therapist/clients\",className:\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\",children:[\"View All \",/*#__PURE__*/_jsx(ArrowRightIcon,{className:\"h-4 w-4 ml-1\"})]})]}),recentSummaries.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:recentSummaries.map(summary=>{var _summary$conversation,_summary$conversation2,_summary$conversation3,_summary$sentiment_me,_summary$sentiment_me2,_summary$sentiment_me3;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:((_summary$conversation=summary.conversations)===null||_summary$conversation===void 0?void 0:(_summary$conversation2=_summary$conversation.clients)===null||_summary$conversation2===void 0?void 0:_summary$conversation2.name)||'Client'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:new Date(summary.created_at).toLocaleString()})]}),/*#__PURE__*/_jsx(Link,{to:`/therapist/clients/${(_summary$conversation3=summary.conversations)===null||_summary$conversation3===void 0?void 0:_summary$conversation3.client_id}`,className:\"text-blue-600 hover:text-blue-800 text-sm font-medium\",children:\"Details\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800 line-clamp-3\",children:summary.summary_text}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:[\"Sentiment: \",((_summary$sentiment_me=summary.sentiment_metrics)===null||_summary$sentiment_me===void 0?void 0:(_summary$sentiment_me2=_summary$sentiment_me.average)===null||_summary$sentiment_me2===void 0?void 0:_summary$sentiment_me2.toFixed(2))||'N/A']}),((_summary$sentiment_me3=summary.sentiment_metrics)===null||_summary$sentiment_me3===void 0?void 0:_summary$sentiment_me3.trend)&&/*#__PURE__*/_jsxs(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${summary.sentiment_metrics.trend==='improving'?'bg-green-100 text-green-800':summary.sentiment_metrics.trend==='declining'?'bg-red-100 text-red-800':'bg-yellow-100 text-yellow-800'}`,children:[\"Trend: \",summary.sentiment_metrics.trend]})]})]},summary.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recent summaries available\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/therapist/clients\",className:\"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-5 w-5 text-blue-600 mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Manage Clients\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{/* Schedule session logic */},className:\"w-full flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-left\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-5 w-5 text-indigo-600 mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Schedule New Session\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{/* Create behavior preset logic */},className:\"w-full flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-left\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-5 w-5 text-purple-600 mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Create Behavior Preset\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-secondary-900\",children:\"Your Clients\"}),/*#__PURE__*/_jsx(Link,{to:\"/therapist/clients\",className:\"text-primary-600 hover:text-primary-700 text-sm font-medium\",children:\"View All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:clients.slice(0,6).map(client=>/*#__PURE__*/_jsxs(Link,{to:`/therapist/clients/${client.id}`,className:\"p-4 bg-secondary-50 rounded-lg hover:bg-secondary-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-secondary-900\",children:client.users.profile_data.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-secondary-600\",children:[client.client_behaviors.length,\" Active Behaviors\"]})]},client.id))})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth","therapistService","UserGroupIcon","CalendarIcon","DocumentTextIcon","ClockIcon","ArrowPathIcon","ArrowRightIcon","ChatBubbleLeftRightIcon","Line","jsx","_jsx","jsxs","_jsxs","Dashboard","_user$profile_data","user","clients","setClients","upcomingSessions","setUpcomingSessions","recentSummaries","setRecentSummaries","sentimentTrend","setSentimentTrend","stats","setStats","totalClients","upcomingSessionsCount","recentSummariesCount","averageSentiment","loading","setLoading","refreshing","setRefreshing","refreshDashboard","fetchDashboardData","clientsData","getAssignedClients","id","sessionsData","getUpcomingSessions","summariesData","getRecentSummaries","avgSentiment","calculateAverageSentiment","length","generateSentimentTrendData","error","console","summaries","validSentiments","filter","summary","sentiment_metrics","average","map","reduce","sum","score","toFixed","dateGroups","forEach","date","Date","created_at","toLocaleDateString","push","dates","Object","keys","sort","a","b","data","scores","chartData","labels","datasets","label","borderColor","backgroundColor","fill","tension","className","children","profile_data","name","onClick","disabled","options","responsive","maintainAspectRatio","plugins","legend","position","tooltip","callbacks","context","parsed","y","scales","beginAtZero","max","title","display","text","x","to","session","_session$clients","start_time","toLocaleString","_summary$conversation","_summary$conversation2","_summary$conversation3","_summary$sentiment_me","_summary$sentiment_me2","_summary$sentiment_me3","conversations","client_id","summary_text","trend","slice","client","users","client_behaviors"],"sources":["/Users/gio/development/smartterapist/CascadeProjects/windsurf-project/client/src/pages/therapist/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { therapistService } from '../../services/therapistService';\nimport { \n  UserGroupIcon, \n  CalendarIcon, \n  DocumentTextIcon, \n  ClockIcon,\n  ArrowPathIcon,\n  ArrowRightIcon,\n  ChatBubbleLeftRightIcon\n} from '@heroicons/react/24/outline';\nimport { Line } from 'react-chartjs-2';\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const [clients, setClients] = useState([]);\n  const [upcomingSessions, setUpcomingSessions] = useState([]);\n  const [recentSummaries, setRecentSummaries] = useState([]);\n  const [sentimentTrend, setSentimentTrend] = useState(null);\n  const [stats, setStats] = useState({\n    totalClients: 0,\n    upcomingSessionsCount: 0,\n    recentSummariesCount: 0,\n    averageSentiment: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n\n  const refreshDashboard = async () => {\n    setRefreshing(true);\n    try {\n      await fetchDashboardData();\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch assigned clients\n      const clientsData = await therapistService.getAssignedClients(user.id);\n      setClients(clientsData || []);\n      \n      // Fetch upcoming sessions\n      const sessionsData = await therapistService.getUpcomingSessions(user.id);\n      setUpcomingSessions(sessionsData || []);\n      \n      // Fetch recent summaries\n      const summariesData = await therapistService.getRecentSummaries(user.id);\n      setRecentSummaries(summariesData || []);\n      \n      // Calculate stats\n      const avgSentiment = calculateAverageSentiment(summariesData);\n      \n      setStats({\n        totalClients: clientsData.length,\n        upcomingSessionsCount: sessionsData.length,\n        recentSummariesCount: summariesData.length,\n        averageSentiment: avgSentiment\n      });\n      \n      // Generate sentiment trend data for chart\n      generateSentimentTrendData(summariesData);\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const calculateAverageSentiment = (summaries) => {\n    if (!summaries || summaries.length === 0) return 0;\n    \n    const validSentiments = summaries\n      .filter(summary => summary.sentiment_metrics && summary.sentiment_metrics.average)\n      .map(summary => summary.sentiment_metrics.average);\n      \n    if (validSentiments.length === 0) return 0;\n    \n    return (validSentiments.reduce((sum, score) => sum + score, 0) / validSentiments.length).toFixed(2);\n  };\n  \n  const generateSentimentTrendData = (summaries) => {\n    if (!summaries || summaries.length === 0) {\n      setSentimentTrend(null);\n      return;\n    }\n    \n    // Group summaries by date\n    const dateGroups = {};\n    summaries.forEach(summary => {\n      if (!summary.sentiment_metrics || !summary.sentiment_metrics.average) return;\n      \n      const date = new Date(summary.created_at).toLocaleDateString();\n      if (!dateGroups[date]) {\n        dateGroups[date] = [];\n      }\n      dateGroups[date].push(summary.sentiment_metrics.average);\n    });\n    \n    // Calculate average for each date\n    const dates = Object.keys(dateGroups).sort((a, b) => new Date(a) - new Date(b));\n    const data = dates.map(date => {\n      const scores = dateGroups[date];\n      return scores.reduce((sum, score) => sum + score, 0) / scores.length;\n    });\n    \n    if (dates.length === 0 || data.length === 0) {\n      setSentimentTrend(null);\n      return;\n    }\n    \n    const chartData = {\n      labels: dates,\n      datasets: [{\n        label: 'Client Sentiment Trend',\n        data: data,\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        fill: true,\n        tension: 0.4\n      }]\n    };\n    \n    setSentimentTrend(chartData);\n  };\n\n  useEffect(() => {\n    if (user && user.id) {\n      fetchDashboardData();\n    }\n  }, [user]);\n\n  if (loading && !refreshing) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n      {/* Welcome Section */}\n      <div className=\"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow-lg p-6 mb-8 text-white\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">\n              Welcome, Dr. {user.profile_data?.name || 'Therapist'}\n            </h1>\n            <p className=\"mt-2 text-blue-100 max-w-2xl\">\n              Manage your clients, review AI-generated insights, and schedule upcoming sessions.\n            </p>\n          </div>\n          <button\n            onClick={refreshDashboard}\n            disabled={refreshing}\n            className=\"flex items-center bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-white px-4 py-2 rounded-lg disabled:opacity-50\"\n          >\n            <ArrowPathIcon className={`h-5 w-5 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-blue-100 rounded-full mr-4\">\n            <UserGroupIcon className=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Active Clients</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.totalClients}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-indigo-100 rounded-full mr-4\">\n            <CalendarIcon className=\"h-6 w-6 text-indigo-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Upcoming Sessions</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.upcomingSessionsCount}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-purple-100 rounded-full mr-4\">\n            <DocumentTextIcon className=\"h-6 w-6 text-purple-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Recent Summaries</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.recentSummariesCount}</p>\n          </div>\n        </div>\n        \n        <div className=\"bg-white rounded-xl shadow p-6 flex items-center\">\n          <div className=\"p-3 bg-green-100 rounded-full mr-4\">\n            <ChatBubbleLeftRightIcon className=\"h-6 w-6 text-green-600\" />\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500\">Avg. Sentiment</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{stats.averageSentiment}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content Grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Left Column - Sentiment Trend and Upcoming Sessions */}\n        <div className=\"lg:col-span-2 space-y-8\">\n          {/* Sentiment Trend Chart */}\n          {sentimentTrend ? (\n            <div className=\"bg-white rounded-xl shadow p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">Client Sentiment Trends</h2>\n              </div>\n              <div className=\"h-64\">\n                <Line\n                  data={sentimentTrend}\n                  options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    plugins: {\n                      legend: {\n                        position: 'top',\n                      },\n                      tooltip: {\n                        callbacks: {\n                          label: function(context) {\n                            return `Score: ${context.parsed.y.toFixed(2)}`;\n                          }\n                        }\n                      }\n                    },\n                    scales: {\n                      y: {\n                        beginAtZero: true,\n                        max: 1,\n                        title: {\n                          display: true,\n                          text: 'Average Sentiment Score'\n                        }\n                      },\n                      x: {\n                        title: {\n                          display: true,\n                          text: 'Date'\n                        }\n                      }\n                    }\n                  }}\n                />\n              </div>\n              <p className=\"mt-4 text-sm text-gray-500 italic\">\n                This chart shows the average emotional well-being trends across all your clients based on AI analysis.\n              </p>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-xl shadow p-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Client Sentiment Trends</h2>\n              <div className=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg\">\n                <p className=\"text-gray-500\">No sentiment data available yet</p>\n              </div>\n            </div>\n          )}\n          \n          {/* Upcoming Sessions */}\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Upcoming Sessions</h2>\n              <Link\n                to=\"/therapist/clients\"\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n              >\n                View All <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\n              </Link>\n            </div>\n            \n            {upcomingSessions.length > 0 ? (\n              <div className=\"space-y-4\">\n                {upcomingSessions.map((session) => (\n                  <div\n                    key={session.id}\n                    className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                  >\n                    <div className=\"flex items-center\">\n                      <div className=\"p-3 bg-blue-100 rounded-full mr-4\">\n                        <ClockIcon className=\"h-5 w-5 text-blue-600\" />\n                      </div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">\n                          {session.clients?.name || 'Client'}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          {new Date(session.start_time).toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => {/* Join session logic */}}\n                      className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors\"\n                    >\n                      Join\n                    </button>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                <p className=\"text-gray-500 mb-4\">No upcoming sessions scheduled</p>\n                <button\n                  onClick={() => {/* Schedule session logic */}}\n                  className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors\"\n                >\n                  Schedule New Session\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Right Column - Recent Summaries */}\n        <div className=\"space-y-8\">\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800\">Recent AI Summaries</h2>\n              <Link\n                to=\"/therapist/clients\"\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center\"\n              >\n                View All <ArrowRightIcon className=\"h-4 w-4 ml-1\" />\n              </Link>\n            </div>\n            \n            {recentSummaries.length > 0 ? (\n              <div className=\"space-y-4\">\n                {recentSummaries.map((summary) => (\n                  <div\n                    key={summary.id}\n                    className=\"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                  >\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <div>\n                        <p className=\"font-medium text-gray-900\">\n                          {summary.conversations?.clients?.name || 'Client'}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          {new Date(summary.created_at).toLocaleString()}\n                        </p>\n                      </div>\n                      <Link\n                        to={`/therapist/clients/${summary.conversations?.client_id}`}\n                        className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n                      >\n                        Details\n                      </Link>\n                    </div>\n                    <p className=\"text-gray-800 line-clamp-3\">{summary.summary_text}</p>\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                        Sentiment: {summary.sentiment_metrics?.average?.toFixed(2) || 'N/A'}\n                      </span>\n                      {summary.sentiment_metrics?.trend && (\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${summary.sentiment_metrics.trend === 'improving' ? 'bg-green-100 text-green-800' : summary.sentiment_metrics.trend === 'declining' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}`}>\n                          Trend: {summary.sentiment_metrics.trend}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n                <p className=\"text-gray-500\">No recent summaries available</p>\n              </div>\n            )}\n          </div>\n          \n          {/* Quick Actions */}\n          <div className=\"bg-white rounded-xl shadow p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Quick Actions</h2>\n            <div className=\"space-y-3\">\n              <Link\n                to=\"/therapist/clients\"\n                className=\"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n              >\n                <UserGroupIcon className=\"h-5 w-5 text-blue-600 mr-3\" />\n                <span className=\"text-gray-900\">Manage Clients</span>\n              </Link>\n              \n              <button\n                onClick={() => {/* Schedule session logic */}}\n                className=\"w-full flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-left\"\n              >\n                <CalendarIcon className=\"h-5 w-5 text-indigo-600 mr-3\" />\n                <span className=\"text-gray-900\">Schedule New Session</span>\n              </button>\n              \n              <button\n                onClick={() => {/* Create behavior preset logic */}}\n                className=\"w-full flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-left\"\n              >\n                <DocumentTextIcon className=\"h-5 w-5 text-purple-600 mr-3\" />\n                <span className=\"text-gray-900\">Create Behavior Preset</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Client List Preview */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-lg font-medium text-secondary-900\">Your Clients</h2>\n          <Link\n            to=\"/therapist/clients\"\n            className=\"text-primary-600 hover:text-primary-700 text-sm font-medium\"\n          >\n            View All\n          </Link>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {clients.slice(0, 6).map((client) => (\n            <Link\n              key={client.id}\n              to={`/therapist/clients/${client.id}`}\n              className=\"p-4 bg-secondary-50 rounded-lg hover:bg-secondary-100 transition-colors\"\n            >\n              <p className=\"font-medium text-secondary-900\">\n                {client.users.profile_data.name}\n              </p>\n              <p className=\"text-sm text-secondary-600\">\n                {client.client_behaviors.length} Active Behaviors\n              </p>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}